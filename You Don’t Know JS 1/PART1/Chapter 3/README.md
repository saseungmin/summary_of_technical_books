## ğŸŒˆ Chapter 3 : ë„¤ì´í‹°ë¸Œ

- ê°€ì¥ ë§ì´ ì‚¬ìš©í•˜ëŠ” ë„¤ì´í‹°ë¸Œë“¤
> `String`, `Number`, `Boolean`, `Array`, `Object`, `Function`, `RegExp`, `Date`, `Error`, `Symbol`
- ë„¤ì´í‹°ë¸ŒëŠ” ë‚´ì¥ í•¨ìˆ˜ì´ë‹¤.

```javascript
var a = new String('abc');
typeof a; // object
a instanceof String; // true
Object.prototype.toString.call(a); // "[object String]"
```

- `new String('abc')` ìƒì„±ìì˜ ê²°ê³¼ëŠ” ì›ì‹œ ê°’ `abc`ë¥¼ ê°ì‹¼ **ê°ì²´ ë ˆí¼**ì´ë‹¤.
- `typeof` ì—°ì‚°ìë¡œ ì´ ê°ì²´ì˜ íƒ€ì…ì„ í™•ì¸í•´ë³´ë©´ ìì‹ ì´ ê°ì‹¼ ì›ì‹œ ê°’ì˜ íƒ€ì…ì´ ì•„ë‹Œ `object`ì˜ í•˜ìœ„ íƒ€ì…ì— ê°€ê¹ë‹¤.

```javascript
console.log(a); // StringÂ {"abc"}
```

- `new String('abc')`ì€ `abc`ë¥¼ ê°ì‹¸ëŠ” ë¬¸ìì—´ ë˜í¼ë¥¼ ìƒì„±í•˜ë©° ì›ì‹œ ê°’ `abc`ëŠ” ì•„ë‹ˆë‹¤.

### ğŸ¯ ë‚´ë¶€ `[[Class]]`

- `typeof`ê°€ `object`ì¸ ê°’ì—ëŠ” `[[Class]]`ë¼ëŠ” ë‚´ë¶€ í”„ë¡œí¼í‹°ê°€ ì¶”ê°€ë¡œ ë¶™ëŠ”ë‹¤.
- ì´ í”„ë¡œí¼í‹°ëŠ” **ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ì—†ê³ ** `Object.prototype.toString()`ë¼ëŠ” ë©”ì„œë“œì— ê°’ì„ ë„£ì–´ í˜¸ì¶œí•¨ìœ¼ë¡œì¨ ì¡´ì¬ë¥¼ ì—¿ë³¼ ìˆ˜ ìˆë‹¤.

```javascript
Object.prototype.toString.call([1, 2, 3]); // "[object Array]"

Object.prototype.toString.call(/regex-literal/i); // "[object RegExp]"
```

- ë‚´ë¶€ `[[Class]]` ê°’ì´, ë°°ì—´ì€ `Array` ì •ê·œì‹ì€ `RegExp`ì´ë‹¤.
- ëŒ€ë¶€ë¶„ ë‚´ë¶€ `[[Class]]`ëŠ” í•´ë‹¹ ê°’ê³¼ ê´€ë ¨ëœ ë‚´ì¥ ë„¤ì´í‹°ë¸Œ ìƒì„±ìë¥¼ ê°€ë¦¬í‚¤ì§€ë§Œ, ê·¸ë ‡ì§€ ì•Šì€ ê²½ìš°ë„ ì¡´ì¬í•œë‹¤.

```javascript
Object.prototype.toString.call(null); // "[object Null]"
Object.prototype.toString.call(undefined); // "[object Undefined]"
```

- ìœ„ì™€ ê°™ì´ `Null()`, `Undefined()` ê°™ì€ ë„¤ì´í‹°ë¸Œ ìƒì„±ìëŠ” ì—†ì§€ë§Œ ë‚´ë¶€ `[[Class]]` ê°’ì€ `Null`, `Undefined` ì´ë‹¤.
- í•˜ì§€ë§Œ ê·¸ ë°–ì˜ ë¬¸ìì—´, ìˆ«ì, ë¶ˆë¦¬ì–¸ ê°™ì€ ë‹¨ìˆœ ì›ì‹œ ê°’ì€ **ë°•ì‹±(Boxing)** ê³¼ì •ì„ ê±°ì¹œë‹¤.

```javascript
Object.prototype.toString.call('abc'); // "[object String]"
Object.prototype.toString.call(42);  // "[object Number]"
Object.prototype.toString.call(true); // "[object Boolean]"
```

- ë‚´ë¶€ `[[Class]]` ê°’ì´ ê°ê° `String`, `Number`, `Boolean`ìœ¼ë¡œ í‘œì‹œëœ ê²ƒìœ¼ë¡œ ë³´ì•„ **ë‹¨ìˆœ ì›ì‹œ ê°’ì€ í•´ë‹¹ ê°ì²´ ë ˆí¼ë¡œ ìë™ ë°•ì‹±**ë¨ì„ ì•Œ ìˆ˜ ìˆë‹¤.


### ğŸ¯ ë˜í¼ ë°•ì‹±í•˜ê¸°
- ì›ì‹œ ê°’ì—” í”„ë¡œí¼í‹°ë‚˜ ë©”ì„œë“œê°€ ì—†ìœ¼ë¯€ë¡œ `.length`, `.toString()`ìœ¼ë¡œ ì ‘ê·¼í•˜ë ¤ë©´ ì›ì‹œ ê°’ì„ ê°ì²´ ë˜í¼ë¡œ ê°ì‹¸ì¤˜ì•¼ í•œë‹¤.
- ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” **ì›ì‹œ ê°’ì„ ì•Œì•„ì„œ ë°•ì‹±(ë˜í•‘)** í•˜ë¯€ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ê°€ëŠ¥í•˜ë‹¤.

```javascript
var a = 'abc';

a.length; // 3
a.toUpperCase(); // 'ABC'
```

- ë”°ë¼ì„œ ë£¨í”„ ì¡°ê±´ `i < a.length` ì²˜ëŸ¼ ë¹ˆë²ˆí•˜ê²Œ ë¬¸ìì—´ ê°’ì˜ í”„ë¡œí¼í‹°/ë©”ì„œë“œë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤ë©´ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ì•”ì‹œì ìœ¼ë¡œ ê°ì²´ë¥¼ ìƒì„±í•  í•„ìš”ê°€ ì—†ë„ë¡ ì²˜ìŒë¶€í„° ê°’ì„ ê°ì²´ë¡œ ê°–ê³  ìˆëŠ” ê²ƒì´ ì´ì¹˜ì— ë§ëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ, ì¢‹ì€ ìƒê°ì´ ì•„ë‹ˆë‹¤.
- ê°œë°œìê°€ ì§ì ‘ ê°ì²´ í˜•íƒœë¡œ(ìµœì í™”ë˜ì§€ ì•Šì€ ë°©í–¥ìœ¼ë¡œ) ì„  ìµœì í™”(pre-Optimize)í•˜ë©´ í”„ë¡œê·¸ë¨ì´ ë” ëŠë ¤ì§ˆ ìˆ˜ ìˆë‹¤.
- ì§ì ‘ ê°ì²´ í˜•íƒœë¡œ ì¨ì•¼ í•  ì´ìœ ëŠ” ê±°ì˜ ì—†ê³ , í•„ìš”ì‹œ ì—”ì§„ì´ ì•Œì•„ì„œ ì•”ì‹œì ìœ¼ë¡œ ë°•ì‹±í•˜ê²Œ í•˜ëŠ” ê²ƒì´ ë‚«ë‹¤.

#### ğŸ“š ê°ì²´ ë˜í¼ì˜ í•¨ì •
- ë‹¤ìŒ ì˜ˆì œëŠ” `Boolean`ìœ¼ë¡œ ë˜í•‘í•œ ê°’ì´ ìˆë‹¤.

```javascript
var a = new Boolean(false);

if(!a) {
  console.log('Oops'); // ì‹¤í–‰ X
}
```
- `false`ë¥¼ ê°ì²´ ë˜í¼ë¡œ ê°ìŒŒì§€ë§Œ ë¬¸ì œëŠ” **ê°ì²´ê°€ `truthy`ë€ ì ì´ë‹¤.**
- ê·¸ë˜ì„œ ì˜ˆìƒê³¼ ë‹¬ë¦¬, ì•ˆì— ë“¤ì–´ìˆëŠ” `false`ê°’ê³¼ ë°˜ëŒ€ì˜ ê²°ê³¼ì´ë‹¤.
- **ìˆ˜ë™ìœ¼ë¡œ ì›ì‹œ ê°’ì„ ë°•ì‹±í•˜ë ¤ë©´ `Object()` í•¨ìˆ˜ë¥¼ ì´ìš©í•œë‹¤.**

```javascript
var a = 'abc';
var b = new String(a);
var c = Object(a);

typeof a; // "string"
typeof b; // "object"
typeof c; // "object"

b instanceof String; // true
c instanceof String; // true

Object.prototype.toString.call(b); // "[object String]"
Object.prototype.toString.call(c); // "[object String]"
```

- í•˜ì§€ë§Œ **ê°ì²´ ë ˆí¼ë¡œ ì§ì ‘ ë°•ì‹±í•˜ëŠ” ê±´ ê¶Œí•˜ì§€ ì•ŠëŠ”ë‹¤.**

### ğŸ¯ ì–¸ë°•ì‹±

- ê°ì²´ ë˜í¼ì˜ ì›ì‹œ ê°’ì€ `valueOf()` ë©”ì„œë“œë¡œ ì¶”ì¶œí•œë‹¤.

```javascript
var a = new String('abc');
var b = new Number(42);
var c = new Boolean(true);

a.valueOf(); // 'abc'
b.valueOf(); // 42
c.valueOf(); // true
```

- ì´ë•Œë„ ì•”ì‹œì ì¸ ì–¸ë°•ì‹±ì´ ì¼ì–´ë‚œë‹¤. (ìì„¸í•œ ì‚¬í•­ ê°•ì œë³€í™˜ì€ 4ì¥ì—ì„œ)

```javascript
var a = new String('abc');
var b = a + ''; // 'b'ì—ëŠ” ì–¸ë°•ì‹±ëœ ì›ì‹œ ê°’ 'abc'ì´ ëŒ€ì…ëœë‹¤.

typeof a; // "object"
typeof b; // "string"
```

### ğŸ¯ ë„¤ì´í‹°ë¸Œ, ë‚˜ëŠ” ìƒì„±ìë‹¤.
- ë°°ì—´, ê°ì²´, í•¨ìˆ˜, ì •ê·œì‹ ê°’ì€ ë¦¬í„°ëŸ´ í˜•íƒœë¡œ ìƒì„±í•˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ì§€ë§Œ, **ë¦¬í„°ëŸ´ì€ ìƒì„±ì í˜•ì‹ìœ¼ë¡œ ë§Œë“  ê²ƒê³¼ ë™ì¼í•œ ì¢…ë¥˜ì˜ ê°ì²´ë¥¼ ìƒì„±í•œë‹¤.**
- í•„ìš”í•´ì„œ ì“°ëŠ” ê²Œ ì•„ë‹ˆë¼ë©´ **ìƒì„±ìëŠ” ê°€ê¸‰ì  ì“°ì§€ ì•ŠëŠ” í¸ì´ ì¢‹ë‹¤.**

#### ğŸ“š Array()

```javascript
var a = new Array(1, 2, 3);
a; // [1, 2, 3]

var b = [1, 2, 3];
b; // [1, 2, 3]
```

> `Array()` ìƒì„±ì ì•ì— `new`ë¥¼ ë¶™ì´ì§€ ì•Šì•„ë„ ëœë‹¤. ë¶™ì´ì§€ ì•Šì•„ë„ ë¶™ì¸ ê²ƒì²˜ëŸ¼ ì‘ë™í•œë‹¤. ì¦‰, `Array(1, 2, 3)`ì™€ `new Array(1, 2, 3)` ì™€ ê°™ë‹¤.

- `Array` ìƒì„±ìëŠ” ì¸ìë¡œ ìˆ«ìë¥¼ í•˜ë‚˜ë§Œ ë°›ìœ¼ë©´ ê·¸ ìˆ«ìë¥¼ ì›ì†Œë¡œí•˜ëŠ” ë°°ì—´ì„ ìƒì„±í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë¯¸ë¦¬ ì •í•˜ëŠ” ê¸°ëŠ¥ì´ë‹¤.
- í•˜ì§€ë§Œ **ë°°ì—´ì˜ í¬ê¸°ë¥¼ ë¯¸ë¦¬ ì •í•œë‹¤ëŠ” ê²ƒ ìì²´ê°€ ë°€ì´ ì•ˆ ëœë‹¤.**
- ê·¸ë ‡ê²Œ í•˜ë ¤ë©´ ë¹ˆ ë°°ì—´ì„ ë§Œë“¤ê³  ë‚˜ì¤‘ì— `length` í”„ë¡œí¼í‹°ì— ìˆ«ì ê°’ì„ í• ë‹¹í•˜ëŠ” ê²Œ ë§ë‹¤.

> ë¹ˆ ìŠ¬ë¡¯ì„ í•œ êµ°ë° ì´ìƒ ê°€ì§„ ë°°ì–¼ì„ êµ¬ë© ë‚œ ë°°ì—´(Sparse Array)ë¼ê³  í•œë‹¤.

```javascript
var a = new Array(3);
var b = [undefined, undefined, undefined];
var c = [];
c.length = 3;

a; // [empty Ã— 3]
b; // [undefined, undefined, undefined]
c; // [empty Ã— 3]
```

- ë¸Œë¼ìš°ì € ê°œë°œì ì½˜ì†” ì°½ ë§ˆë‹¤ ê°ì²´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ë°©ì‹ì´ ì œê°ê°ì´ë¼ í˜¼ë€ì´ ê°€ì¤‘ëœë‹¤.
- `a`ì™€ `b`ê°€ ì–´ë–¨ ë•ŒëŠ” ê°™ì€ ê°’ì²˜ëŸ¼ ë³´ì´ë‹¤ê°€ë„ ê·¸ë ‡ì§€ ì•Šì„ ë•Œë„ ìˆë‹¤.

```javascript
a.join('-'); // "--"
b.join('-'); // "--"

a.map(function(v, i){return i;}); // [empty Ã— 3]
b.map(function(v, i){return i;}); // [0, 1, 2]
```

- `a.map()`ì€ `a`ì— ìŠ¬ë¡¯ì´ ì—†ê¸° ë•Œë¬¸ì— `map()` í•¨ìˆ˜ê°€ ìˆœíšŒí•  ì›ì†Œê°€ ì—†ë‹¤.
- `join()`ì€ êµ¬í˜„ ë¡œì§ì´ ë‹¤ìŒê³¼ ê°™ê¸° ë•Œë¬¸ì— ë‹¤ë¥´ë‹¤.

```javascript
function fakeJoin(arr, connector) {
  var str = '';
  for(var i = 0; i < arr.length; i++) {
    if(i > 0) {
      str += connector;
    }
    if(arr[i] !== undefined) {
      str += arr[i];
    }
  }
  return str;
}

var a = new Array(3);
fakeJoin(a, '-'); // "--"
```

- `join()`ì€ ìŠ¬ë¡¯ì´ ìˆë‹¤ëŠ” ê°€ì •í•˜ì— `length`ë§Œí¼ ë£¨í”„ë¥¼ ë°˜ë³µí•œë‹¤.
- `map()` í•¨ìˆ˜ëŠ” ë¹ˆ ìŠ¬ë¡¯ ë°°ì—´ì´ ì…ë ¥ë˜ë©´ ì˜ˆê¸°ì¹˜ ì•Šì€ ê²°ê³¼ê°€ ë¹šì–´ì§€ê±°ë‚˜ ì‹¤íŒ¨ì˜ ì›ì¸ì´ ëœë‹¤.
- ì§„ì§œ `undefined` ê°’ ì›ì†Œë¡œ ì±„ì›Œì§„ ë°°ì—´ì€ ì–´ë–»ê²Œ ìƒì„±í• ê¹Œ?

```javascript
var a = Array.apply(null, { length: 3 });
a; // [undefined, undefined, undefined]
```

- `apply()`ëŠ” ëª¨ë“  í•¨ìˆ˜ì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ìœ í‹¸ë¦¬í‹°ì´ë‹¤.
- ì²« ë²ˆì§¸ ì¸ì `this`ëŠ” ê°ì²´ ë°”ì¸ë”©ìœ¼ë¡œ, `null`ë¡œ ì„¸íŒ…í–ˆë‹¤.
- ë‘ ë²ˆì§¸ ì¸ìëŠ” ì¸ìì˜ ë°°ì—´(ë˜ëŠ” ë°°ì—´ ë¹„ìŠ·í•œ ìœ ì‚¬ ë°°ì—´)ë¡œ, ì´ ì•ˆì— **í¬í•¨ëœ ì›ì†Œë“¤ì´ í¼ì³ì ¸(Spread) í•¨ìˆ˜ì˜ ì¸ìë¡œ ì „ë‹¬ëœë‹¤.**
- ë”°ë¼ì„œ `Array.apply()`ëŠ” `Array()` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë™ì‹œì— `{ length: 3 }` ê°ì²´ ê°’ì„ í¼ì²˜ ì¸ìë¡œ ë„£ëŠ”ë‹¤.
- `apply()` ë‚´ë¶€ì—ì„œëŠ” ì•„ë§ˆ `0`ì—ì„œ `length` ì§ì „ê¹Œì§€ ë£¨í”„ë¥¼ ìˆœíšŒí•  ê²ƒì´ë‹¤.
- ì¸ë±ìŠ¤ë³„ë¡œ ê°ì²´ì—ì„œ í‚¤ë¥¼ ê°€ì ¸ì˜¨ë‹¤. (`arr[0], arr[1], arr[2]`)
- ë¬¼ë¡  ì´ ì„¸ í”„ë¡œí¼í‹°ë„ ëª¨ë‘ `{ length: 3 }` ê°ì²´ì—ëŠ” ì¡´ì¬í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— ëª¨ë‘ `undefined`ë¥¼ ë°˜í™˜í•œë‹¤.
- ì¦‰, `Array()`ë¥¼ í˜¸ì¶œí•˜ë©´ `Array(undefined, undefined, undefined)`ì²˜ëŸ¼ ë˜ì–´, ë¹ˆ ìŠ¬ë¡¯ì´ ì•„ë‹Œ, `undefined`ë¡œ ì±„ì›Œì§„ ë°°ì—´ì´ íƒ„ìƒí•œë‹¤.
- **ì ˆëŒ€ë¡œ ë¹ˆ ìŠ¬ë¡¯ ë°°ì—´ì„ ì• ì¨ ë§Œë“¤ì–´ì„œ ì‚¬ìš©í•˜ì§€ ë§ì.**