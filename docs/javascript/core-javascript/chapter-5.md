---
sidebar_position: 6
---

# ğŸŒˆ Chapter 5: í´ë¡œì €

## ğŸ“š í´ë¡œì €ì˜ ì˜ë¯¸ ë° ì›ë¦¬ ì´í•´
- í´ë¡œì €(Closure)ëŠ” ì—¬ëŸ¬ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì—ì„œ ë“±ì¥í•˜ëŠ” ë³´í¸ì ì¸ íŠ¹ì„±ì´ë‹¤.

> - í´ë¡œì €ë¥¼ í•œ ë¬¸ì¥ìœ¼ë¡œ ìš”ì•½
>   - ìì‹ ì„ ë‚´í¬í•˜ëŠ” í•¨ìˆ˜ì˜ ì»¨í…ìŠ¤íŠ¸ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ (ìë°”ìŠ¤í¬ë¦½íŠ¸ í•µì‹¬ ê°€ì´ë“œ)
>   - í•¨ìˆ˜ê°€ íŠ¹ì • ìŠ¤ì½”í”„ì— ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì˜ë„ì ìœ¼ë¡œ ê·¸ ìŠ¤ì½”í”„ì—ì„œ ì •ì˜í•˜ëŠ” ê²ƒ (ëŸ¬ë‹ ìë°”ìŠ¤í¬ë¦½íŠ¸)
>   - í•¨ìˆ˜ë¥¼ ì„ ì–¸í•  ë•Œ ë§Œë“¤ì–´ì§€ëŠ” ìœ íš¨ë²”ìœ„ê°€ ì‚¬ë¼ì§„ í›„ì—ë„ í˜¸ì¶œí•  ìˆ˜ ìˆëŠ” í•¨ìˆ˜ (ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‹Œì ë¹„ê¸‰)
>   - ì´ë¯¸ ìƒëª… ì£¼ê¸°ìƒ ëë‚œ ì™¸ë¶€ í•¨ìˆ˜ì˜ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” í•¨ìˆ˜ (ì¸ì‚¬ì´ë“œ ìë°”ìŠ¤í¬ë¦½íŠ¸)
>   - ììœ ë³€ìˆ˜ê°€ ìˆëŠ” í•¨ìˆ˜ì™€ ììœ ë³€ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆëŠ” í™˜ê²½ì˜ ê²°í•© (Head First Javascript Programming)
>   - ë¡œì»¬ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ìˆëŠ” í•¨ìˆ˜ ë‚´ì˜ í•¨ìˆ˜ (ìë°”ìŠ¤í¬ë¦½íŠ¸ ë§ˆìŠ¤í„°ë¶)
>   - ìì‹ ì´ ìƒì„±ë  ë•Œì˜ ìŠ¤ì½”í”„ì—ì„œ ì•Œ ìˆ˜ ìˆì—ˆë˜ ë³€ìˆ˜ë“¤ ì¤‘ ì–¸ì  ê°€ ìì‹ ì´ ì‹¤í–‰ë  ë•Œ ì‚¬ìš©í•  ë³€ìˆ˜ë“¤ë§Œì„ ê¸°ì–µí•˜ë©° ìœ ì§€ì‹œí‚¤ëŠ” í•¨ìˆ˜ (í•¨ìˆ˜í˜• ìë°”ìŠ¤í¬ë¦½íŠ¸ í”„ë¡œê·¸ë˜ë°)
>   - í´ë¡œì €ëŠ” í•¨ìˆ˜ì™€ ê·¸ í•¨ìˆ˜ê°€ ì„ ì–¸ë  ë‹¹ì‹œì˜ lexical environment(ë ‰ì‹œì»¬ í™˜ê²½)ì˜ ìƒí˜¸ê´€ê³„ì— ë”°ë¥¸ í˜„ìƒ (MDN)

- ì–´ë–¤ ì»¨í…ìŠ¤íŠ¸ Aì—ì„œ ì„ ì–¸í•œ ë‚´ë¶€í•¨ìˆ˜ Bì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ í™œì„±í™”ëœ ì‹œì ì—ëŠ” Bì˜ outerEnvironmentReferenceê°€ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒì¸ Aì˜ LexicalEnvironmentì—ë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. Aì—ì„œëŠ” Bì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ì— ì ‘ê·¼í•  ìˆ˜ ì—†ì§€ë§Œ Bì—ì„œëŠ” Aì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.
- ë‚´ë¶€í•¨ìˆ˜ì—ì„œ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ì§€ ì•ŠëŠ” ê²½ìš°ëŠ” í•´ë‹¹í•˜ì§€ ì•ŠëŠ”ë‹¤. ì¦‰, ì„ ì–¸ë  ë‹¹ì‹œì˜ LexicalEnvironmentì™€ì˜ ìƒí˜¸ê´€ê³„ì´ë‹¤.

```js
var outer = function() {
  var a = 1;

  var inner = function() {
    console.log(++a); // 2
  };

  inner();
};

outer();
```

- ìœ„ ì˜ˆì—ì„œ `inner` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œëŠ” `a`ë¥¼ ì„ ì–¸í•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— environmentRecordì—ì„œ ê°’ì„ ì°¾ì§€ ëª»í•˜ë¯€ë¡œ outerEnvironmentReferenceì— ì§€ì •ëœ ìƒìœ„ ì»¨í…ìŠ¤íŠ¸ì¸ LexicalEnvironmentì— ì ‘ê·¼í•´ì„œ ë‹¤ì‹œ `a`ë¥¼ ì°¾ëŠ”ë‹¤.
- `outer` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë˜ë©´ LexicalEnvironmentì— ì§€ì •ëœ ì‹ë³„ìë“¤(`a`, `inner`)ì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ì§€ìš´ë‹¤. ê·¸ëŸ¬ë©´ ê° ì£¼ì†Œì— ì €ì¥ë¼ ìˆë˜ ê°’ë“¤ì€ ìì‹ ì„ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜ê°€ í•˜ë‚˜ë„ ì—†ê²Œ ë˜ë¯€ë¡œ ê°€ë¹„ì§€ ì»¬ë ‰í„°ì˜ ìˆ˜ì§‘ ëŒ€ìƒì´ ë  ê²ƒì´ë‹¤.
  
```js
var outer = function() {
  var a = 1;

  var inner = function() {
    return ++a;
  };

  return inner();
};

var outer2 = outer();
console.log(outer2); // 2
```

- ìœ„ ì˜ˆì œì—ì„œëŠ” `inner` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ë¥¼ ë¦¬í„´í•˜ê³  ìˆìœ¼ë¯€ë¡œ ê²°ê³¼ì ìœ¼ë¡œ `outer` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ ì‹œì ì—ëŠ” `a` ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ëŒ€ìƒì´ ì—†ì–´ì§„ë‹¤.
- ìœ„ ë‘ ì˜ˆì œì—ì„œ `outer` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë˜ê¸° ì´ì „ì— `inner` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë¼ ìˆìœ¼ë©°, ì´í›„ ë³„ë„ì˜ `inner` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ì—†ë‹¤ëŠ” ê³µí†µì ì´ ìˆë‹¤.
- ê·¸ë ‡ë‹¤ë©´ `outer`ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ í›„ì—ë„ `inner` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆê²Œ ë§Œë“¤ë©´ ì–´ë–¨ê¹Œ?

```js
var outer = function() {
  var a = 1;

  var inner = function() {
    return ++a;
  };

  return inner;
};

var outer2 = outer();
console.log(outer2()); // 2
console.log(outer2()); // 3
```

- ìœ„ ì˜ˆì œì—ì„œ `inner` í•¨ìˆ˜ ìì²´ë¥¼ ë°˜í™˜í–ˆë‹¤. ê·¸ëŸ¬ë©´ `outer` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œë  ë•Œ `outer2` ë³€ìˆ˜ëŠ” `outer`ì˜ ì‹¤í–‰ ê²°ê³¼ì¸ `inner` í•¨ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê²Œ ë  ê²ƒì´ë‹¤.
- `inner` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì˜ environmentRecordì—ëŠ” ìˆ˜ì§‘í•  ì •ë³´ê°€ ì—†ë‹¤. outerEnvironmentReferenceì—ëŠ” `inner` í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ìœ„ì¹˜ì˜ LexicalEnvironmentê°€ ì°¸ì¡°ë³µì‚¬ëœë‹¤.
- `inner` í•¨ìˆ˜ëŠ” `outer` í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì„ ì–¸ëìœ¼ë¯€ë¡œ, `outer` í•¨ìˆ˜ì˜ LexicalEnvironmentê°€ ë‹´ê¸¸ ê²ƒì´ë‹¤.
- ì´ì œ ìŠ¤ì½”í”„ ì²´ì´ë‹ì— ë”°ë¼ `outer`ì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ `a`ì— ì ‘ê·¼í•´ì„œ 1ë§Œí¼ ì¦ê°€ì‹œí‚¨ í›„ ê·¸ ê°’ì¸ 2ë¥¼ ë°˜í™˜í•˜ê³ , `inner` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœë‹¤.
- ê·¸ëŸ°ë° **`inner` í•¨ìˆ˜ì˜ ì‹¤í–‰ ì‹œì ì—ëŠ” `outer` í•¨ìˆ˜ëŠ” ì´ë¯¸ ì‹¤í–‰ì´ ì¢…ë£Œëœ ìƒíƒœì¸ë° `outer` í•¨ìˆ˜ì˜ LexicalEnvironmentì— ì–´ë–»ê²Œ ì ‘ê·¼í•˜ëŠ” ê²ƒì¼ê¹Œ?**
- ì´ëŠ” ê°€ë¹„ì§€ ì»¬ë ‰í„°ì˜ ë™ì‘ ë°©ì‹ ë•Œë¬¸ì¸ë° ê°€ë¹„ì§€ ì»¬ë ‰í„°ëŠ” ì–´ë–¤ ê°’ì„ ì°¸ì¡°í•˜ëŠ” ë³€ìˆ˜ê°€ í•˜ë‚˜ë¼ë„ ìˆë‹¤ë©´ ê·¸ ê°’ì€ ìˆ˜ì§‘ ëŒ€ìƒì— í¬í•¨ì‹œí‚¤ì§€ ì•ŠëŠ”ë‹¤.
- `outer` í•¨ìˆ˜ëŠ” ì‹¤í–‰ ì¢…ë£Œ ì‹œì ì— `inner` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•œë‹¤. ì™¸ë¶€í•¨ìˆ˜ì¸ `outer`ì˜ ì‹¤í–‰ì´ ì¢…ë£Œë˜ë”ë¼ë„ ë‚´ë¶€ í•¨ìˆ˜ì¸ `inner` í•¨ìˆ˜ëŠ” ì–¸ì  ê°€ `outer2`ë¥¼ ì‹¤í–‰í•¨ìœ¼ë¡œì¨ í˜¸ì¶œë  ê°€ëŠ¥ì„±ì´ ì—´ë¦° ê²ƒì´ë‹¤. ë•Œë¬¸ì— ê°€ë¹„ì§€ ì»¬ë ‰í„°ì˜ ìˆ˜ì§‘ ëŒ€ìƒì—ì„œ ì œì™¸ê°€ ë˜ëŠ” ê²ƒì´ë‹¤.
- ì´ì²˜ëŸ¼ í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ í›„ì—ë„ LexicalEnvironmentê°€ ê°€ë¹„ì§€ ì»¬ë ‰í„°ì˜ ìˆ˜ì§‘ ëŒ€ìƒì—ì„œ ì œì™¸ë˜ëŠ” ê²½ìš°ëŠ” ë§ˆì§€ë§‰ ì˜ˆì œì²˜ëŸ¼ ì§€ì—­ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€í•¨ìˆ˜ê°€ ì™¸ë¶€ë¡œ ì „ë‹¬ëœ ê²½ìš°ê°€ ìœ ì¼í•˜ë‹¤.

> í´ë¡œì €ë¥¼ ë‹¤ì‹œ ì •ì˜í•´ë³´ë©´ **í´ë¡œì €ë€ ì–´ë–¤ í•¨ìˆ˜ Aì—ì„œ ì„ ì–¸í•œ ë³€ìˆ˜ aë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€í•¨ìˆ˜ Bë¥¼ ì™¸ë¶€ë¡œ ì „ë‹¬í•  ê²½ìš° Aì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ ì´í›„ì—ë„ ë³€ìˆ˜ aê°€ ì‚¬ë¼ì§€ì§€ ì•ŠëŠ” í˜„ìƒ**ì´ë‹¤.

- **í•œê°€ì§€ ì£¼ì˜í•  ì ì€ ì™¸ë¶€ë¡œ ì „ë‹¬ì´ ê³§ `return`ë§Œì„ ì˜ë¯¸í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.** ì•„ë˜ ì½”ë“œëŠ” `return`ì—†ì´ë„ í´ë¡œì €ê°€ ë°œìƒí•˜ëŠ” ìƒí™©ì´ë‹¤.

```js
// setInterval/setTimeout
(function () {
  var a = 0;
  var intervalId = null;
  var inner = function () {
    if(++a >= 10) {
      clearInterval(intervalId);
    }

    console.log(a);
  };

  intervalId = setInterval(inner, 1000);
})();

// eventListener
(function () {
  var count = 0;
  var button = document.createElement('button');

  button.innerText = 'click';
  button.addEventListener('click', function () {
    console.log(++count, 'times clicked');
  });
  
  document.body.appendChild(button);
})();
```

- ìœ„ ë‘ ìƒí™© ëª¨ë‘ ì§€ì—­ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ëŠ” ë‚´ë¶€í•¨ìˆ˜ë¥¼ ì™¸ë¶€ì— ì „ë‹¬í–ˆê¸° ë•Œë¬¸ì— í´ë¡œì €ì´ë‹¤.

## ğŸ“š í´ë¡œì €ì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬
- í´ë¡œì €ëŠ” ì–´ë–¤ í•„ìš”ì— ì˜í•´ ì˜ë„ì ìœ¼ë¡œ í•¨ìˆ˜ì˜ ì§€ì—­ë³€ìˆ˜ë¥¼ ë©”ëª¨ë¦¬ë¥¼ ì†Œëª¨í•˜ë„ë¡ í•¨ìœ¼ë¡œì¨ ë°œìƒí•œë‹¤. ê·¸ë ‡ë‹¤ë©´ ê·¸ í•„ìš”ì„±ì´ ì‚¬ë¼ì§„ ì‹œì ì—ëŠ” ë”ëŠ” ë©”ëª¨ë¦¬ë¥¼ ì†Œëª¨í•˜ì§€ ì•Šê²Œ í•´ì£¼ë©´ ëœë‹¤.

```js
// return ì— ì˜í•œ í´ë¡œì €ì˜ ë©”ëª¨ë¦¬ í•´ì œ
var outer = (function () {
  var a = 1;

  var inner = function () {
    return ++a;
  };

  return inner;
})();

console.log(outer());
console.log(outer());

outer = null; // outer ì‹ë³„ìì˜ inner í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ëŠìŒ

console.log(outer()); // TypeError: outer is not a function
```

- `setInterval`ì— ì˜í•œ í´ë¡œì € ë©”ëª¨ë¦¬ í•´ì œ

```js
(function () {
  var a = 0;
  var intervalId = null;
  var inner = function () {
    if(++a >= 10) {
      clearInterval(intervalId);
      inner = null; // inner ì‹ë³„ìì˜ í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ëŠìŒ
    }

    console.log(a);
  };

  intervalId = setInterval(inner, 1000);
})();
```

-  `eventListener`ì— ì˜í•œ í´ë¡œì € ë©”ëª¨ë¦¬ í•´ì œ

```js
(function () {
  var count = 0;
  var button = document.createElement('button');
  button.innerText = 'click';

  var clickHandler = function () {
    console.log(++count, 'times clicked');
    if(count >= 10) {
      button.removeEventListener('click', clickHandler);
      clickHandler = null; // clickHandler ì‹ë³„ìì˜ í•¨ìˆ˜ ì°¸ì¡°ë¥¼ ëŠìŒ
    }
  };
  
  button.addEventListener('click', clickHandler);
  document.body.appendChild(button);
})();
```

## ğŸ“š í´ë¡œì € í™œìš© ì‚¬ë¡€

### ğŸˆ ì½œë°± í•¨ìˆ˜ ë‚´ë¶€ì—ì„œ ì™¸ë¶€ ë°ì´í„°ë¥¼ ì‚¬ìš©í•˜ê³ ì í•  ë•Œ

```js
var fruits = ['apple', 'banana', 'peach'];
var ul = document.createElement('ul');

fruits.forEach(function (fruit) { // A
  var li = document.createElement('li');
  li.innerText = fruit;
  li.addEventListener('click', function () { // B
    alert('your choice is ' + fruit);
  });

  ul.appendChild(li);
});

document.body.appendChild(ul);
```

- ìœ„ ì˜ˆì œì—ì„œ A ì½œë°± í•¨ìˆ˜ëŠ” ê·¸ ë‚´ë¶€ì—ì„œ ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šê³  ìˆìœ¼ë¯€ë¡œ í´ë¡œì €ê°€ ì—†ì§€ë§Œ, `addEventListener`ì— ë„˜ê²¨ì¤€ B ì½œë°± í•¨ìˆ˜ì—ëŠ” `fruit`ì´ë¼ëŠ” ì™¸ë¶€ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ê³  ìˆìœ¼ë¯€ë¡œ í´ë¡œì €ê°€ ìˆë‹¤.
- AëŠ” fruitsì˜ ê°œìˆ˜ë§Œí¼ ì‹¤í–‰ë˜ë©°, ê·¸ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ í™œì„±ë  ê²ƒì´ë‹¤. Aì˜ ì‹¤í–‰ ì¢…ë£Œ ì—¬ë¶€ì™€ ë¬´ê´€í•˜ê²Œ í´ë¦­ ì´ë²¤íŠ¸ì— ì˜í•´ ê° ì»¨í…ìŠ¤íŠ¸ì˜ Bê°€ ì‹¤í–‰ë  ë•ŒëŠ” Bì˜ outerEnvironmentReferenceê°€ Aì˜ LexicalEnvironmentë¥¼ ì°¸ì¡°í•˜ê²Œ ë  ê²ƒì´ë‹¤. ë”°ë¼ì„œ ìµœì†Œí•œ B í•¨ìˆ˜ê°€ ì°¸ì¡°í•  ì˜ˆì •ì¸ ë³€ìˆ˜ fruitì— ëŒ€í•´ì„œëŠ” Aê°€ ì¢…ë£Œëœ í›„ì—ë„ GC ëŒ€ìƒì—ì„œ ì œì™¸ë˜ì–´ ê³„ì† ì°¸ì¡°ê°€ ê°€ëŠ¥í•˜ë‹¤.
- ì´ì œ ë°˜ë³µì„ ì¤„ì´ê¸° ìœ„í•´ Bë¥¼ ì™¸ë¶€ë¡œ ë¶„ë¦¬í•´ë³¸ë‹¤. ì¦‰ `fruit`ë¥¼ ì¸ìë¡œ ë°›ì•„ ì¶œë ¥í•˜ëŠ” í˜•íƒœë¡œ..

```js
var fruits = ['apple', 'banana', 'peach'];
var ul = document.createElement('ul');

var alertFruit = function (fruit) {
  alert('your choice is ' + fruit);
}
fruits.forEach(function (fruit) { // A
  var li = document.createElement('li');
  li.innerText = fruit;
  // ì²« ë²ˆì§¸ ì¸ìì— ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ì£¼ì…í•˜ê¸° ë•Œë¬¸ì— bind ë©”ì„œë“œë¥¼ í• ìš©
  li.addEventListener('click', alertFruit.bind(null, fruit));

  ul.appendChild(li);
});

document.body.appendChild(ul);
```

- ë‹¤ë§Œ ì´ë ‡ê²Œ í•˜ë©´ ì´ë²¤íŠ¸ ê°ì²´ê°€ ì¸ìë¡œ ë„˜ì–´ì˜¤ëŠ” ìˆœì„œê°€ ë°”ë€ŒëŠ” ì  ë° í•¨ìˆ˜ ë‚´ë¶€ì—ì„œì˜ `this`ê°€ ì›ë˜ì˜ ê·¸ê²ƒê³¼ ë‹¬ë¼ì§€ëŠ” ì ì„ ê°ì•ˆí•´ì•¼ í•œë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ ê³ ì°¨í•¨ìˆ˜ë¥¼ í™œìš©í•œë‹¤.

```js
var fruits = ['apple', 'banana', 'peach'];
var ul = document.createElement('ul');

var alertFruitBuilder = function (fruit) {
  return function () {
    alert('your choice is ' + fruit);
  }
}
fruits.forEach(function (fruit) { // A
  var li = document.createElement('li');
  li.innerText = fruit;
  // ì²« ë²ˆì§¸ ì¸ìì— ì´ë²¤íŠ¸ ê°ì²´ë¥¼ ì£¼ì…í•˜ê¸° ë•Œë¬¸ì— bind ë©”ì„œë“œë¥¼ í• ìš©
  li.addEventListener('click', alertFruitBuilder(fruit));

  ul.appendChild(li);
});

document.body.appendChild(ul);
```

- `alertFruitBuilder` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë©´ì„œ `fruit` ê°’ì„ ì¸ìë¡œ ì „ë‹¬í–ˆê³  ì´ í•¨ìˆ˜ì˜ ì‹¤í–‰ ê²°ê³¼ê°€ ë‹¤ì‹œ í•¨ìˆ˜ê°€ ë˜ë©°, ì´ë ‡ê²Œ ë°˜í™˜ëœ í•¨ìˆ˜ë¥¼ ë¦¬ìŠ¤ë„ˆì— ì½œë°± í•¨ìˆ˜ë¡œì¨ ì „ë‹¬í•  ê²ƒì´ë‹¤.
- ì´í›„ í´ë¦­ ì´ë²¤íŠ¸ê°€ ë°œìƒí•˜ë©´ ì´ í•¨ìˆ˜ì˜ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì—´ë¦¬ë©´ì„œ `alertFruitBuilder`ì˜ ì¸ìë¡œ ë„˜ì–´ì˜¨ `fruit`ë¥¼ outerEnvironmentReferenceì— ì˜í•´ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤. ì¦‰, `alertFruitBuilder`ì˜ ì‹¤í–‰ ê²°ê³¼ë¡œ ë°˜í™˜ëœ í•¨ìˆ˜ì—ëŠ” í´ë¡œì €ê°€ ì¡´ì¬í•œë‹¤.

### ğŸˆ ì ‘ê·¼ ê¶Œí•œ ì œì–´(ì •ë³´ ì€ë‹‰)
- í´ë¡œì €ë¥¼ ì´ìš©í•˜ë©´ í•¨ìˆ˜ ì°¨ì›ì—ì„œ `public`í•œ ê°’ê³¼ `private`í•œ ê°’ì„ êµ¬ë¶„í•˜ëŠ” ê²ƒì´ ê°€ëŠ¥í•˜ë‹¤.

```js
var outer = function () {
  var a = 1;
  
  var inner = function () {
    return ++a;
  };

  return inner;
};

var outer2 = outer();
console.log(outer2()); // 2
console.log(outer2()); // 3

return {
  get move() {

  },
  run: function() {

  }
}
```

- `outer` í•¨ìˆ˜ë¥¼ ì¢…ë£Œí•  ë•Œ `inner` í•¨ìˆ˜ë¥¼ ë°˜í™˜í•¨ìœ¼ë¡œì¨ `outer` í•¨ìˆ˜ì˜ ì§€ì—­ë³€ìˆ˜ì¸ `a`ì˜ ê°’ì„ ì™¸ë¶€ì—ì„œë„ ì½ì„ ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤. ì´ì²˜ëŸ¼ í´ë¡œì €ë¥¼ í™œìš©í•˜ë©´ ì™¸ë¶€ ìŠ¤ì½”í”„ì—ì„œ í•¨ìˆ˜ ë‚´ë¶€ì˜ ë³€ìˆ˜ë“¤ ì¤‘ ì„ íƒì ìœ¼ë¡œ ì¼ë¶€ ë³€ìˆ˜ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œì„ ë¶€ì—¬í•  ìˆ˜ ìˆë‹¤. `return`ì„ í™œìš©í•´ì„œ ê°€ëŠ¥í•˜ë‹¤.
- `outer` í•¨ìˆ˜ëŠ” ì™¸ë¶€(ì „ì—­ ìŠ¤ì½”í”„)ë¡œë¶€í„° ì² ì €í•˜ê²Œ ê²©ë¦¬ëœ ë‹«íŒ ê³µê°„ì´ë‹¤. ì™¸ë¶€ì—ì„œëŠ” ì™¸ë¶€ ê³µê°„ì— ë…¸ì¶œë¼ ìˆëŠ” `outer` ë¼ëŠ” ë³€ìˆ˜ë¥¼ í†µí•´ `outer` í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•  ìˆ˜ëŠ” ìˆì§€ë§Œ, **`outer` í•¨ìˆ˜ ë‚´ë¶€ì—ëŠ” ì–´ë– í•œ ê°œì…ë„ í•  ìˆ˜ ì—†ë‹¤.** ì™¸ë¶€ì—ì„œëŠ” ì˜¤ì§ `outer` í•¨ìˆ˜ê°€ `return`í•œ ì •ë³´ì—ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤. `return` ê°’ì´ ì™¸ë¶€ì— ì œê³µë˜ëŠ” ìœ ì¼í•œ ìˆ˜ë‹¨ì´ë‹¤.
- ê·¸ë ‡ê¸° ë•Œë¬¸ì— ì™¸ë¶€ì— ì œê³µí•˜ê³ ì í•˜ëŠ” ì •ë³´ë“¤ì„ ëª¨ì•„ì„œ `return`í•˜ê³ , ë‚´ë¶€ì—ì„œë§Œ ì‚¬ìš©í•  ì •ë³´ë“¤ì€ `return`í•˜ì§€ ì•ŠëŠ” ê²ƒìœ¼ë¡œ ì ‘ê·¼ ê¶Œí•œ ì œì–´ê°€ ê°€ëŠ¥í•œ ê²ƒì´ë‹¤.

### ğŸˆ ë¶€ë¶„ ì ìš© í•¨ìˆ˜
- ë¶€ë¶„ ì ìš© í•¨ìˆ˜ë€ `n` ê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ì— ë¯¸ë¦¬ `m`ê°œì˜ ì¸ìë§Œ ë„˜ê²¨ ê¸°ì–µì‹œì¼°ë‹¤ê°€, ë‚˜ì¤‘ì— `(n - m)`ê°œì˜ ì¸ìë¥¼ ë„˜ê¸°ë©´ ë¹„ë¡œì†Œ ì›ë˜ í•¨ìˆ˜ì˜ ì‹¤í–‰ ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆê² ë” í•˜ëŠ” í•¨ìˆ˜ì´ë‹¤.

```js
var partial = function () {
  var originalPartialArgs = arguments;
  var func = originalPartialArgs[0];

  if (typeof func !== 'function') {
    throw new Error('ì²« ë²ˆì§¸ ì¸ìê°€ í•¨ìˆ˜ê°€ ì•„ë‹™ë‹ˆë‹¤.');
  }

  return function () {
    var partialArgs = Array.prototype.slice.call(originalPartialArgs, 1);
    var restArgs = Array.prototype.slice.call(arguments);
    return func.apply(this, partialArgs.concat(restArgs));
  };
};

var add = function () {
  var result = 0;
  for (var i = 0; i < arguments.length; i++) {
    result += arguments[i];
  }
  return result;
};

var addPartial = partial(add, 1, 2, 3, 4, 5);
console.log(addPartial(6, 7, 8, 9, 10)); // 55

var dog = {
  name: 'ê°•ì•„ì§€',
  greet: partial(function(prefix, suffix) {
    return prefix + this.name + suffix;
  }, 'ì™ˆì™ˆ, ');
};

dog.greet('ì…ë‹ˆë‹¤!'); // ì™ˆì™ˆ, ê°•ì•„ì§€ì…ë‹ˆë‹¤!
```

- ë‹¤ìŒ ì˜ˆì œëŠ” ë””ë°”ìš´ìŠ¤(debounce)ì— ëŒ€í•œ ì˜ˆì œì´ë‹¤. ë””ë°”ìš´ìŠ¤ëŠ” ì§§ì€ ì‹œê°„ ë™ì•ˆ ë™ì¼í•œ ì´ë²¤íŠ¸ê°€ ë§ì´ ë°œìƒí•  ê²½ìš° ì´ë¥¼ ì „ë¶€ ì²˜ë¦¬í•˜ì§€ ì•Šê³  ì²˜ìŒ ë˜ëŠ” ë§ˆì§€ë§‰ì— ë°œìƒí•œ ì´ë²¤íŠ¸ì— ëŒ€í•´ í•œ ë²ˆë§Œ ì²˜ë¦¬í•˜ëŠ” ê²ƒìœ¼ë¡œ, í”„ëŸ°íŠ¸ì—”ë“œ ì„±ëŠ¥ ìµœì í™”ì— í° ë„ì›€ì„ ì£¼ëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ë‹¤. (`scroll`, `wheel`, `mousemove`. `resize`ë“± ì ìš©)

```js
var debounce = function (eventName, func, wait) {
  var timeoutId = null;

  return function (event) {
    var self = this;

    console.log(eventName, 'event ë°œìƒ');

    clearTimeout(timeoutId);
    timeoutId = setTimeout(func.bind(self, event), wait);
  };
};

var moveHandler = function (e) {
  console.log('move event ì²˜ë¦¬');
};

var wheelHandler = function (e) {
  console.log('wheel event ì²˜ë¦¬');
};

document.body.addEventListener('mousemove', debounce('move', moveHandler, 500));
document.body.addEventListener('mousewheel', debounce('wheel', wheelHandler, 700));
```

- ìµœì´ˆ `event`ê°€ ë°œìƒí•˜ë©´ timeoutì˜ ëŒ€ê¸°ì—´ì— `wait` ì‹œê°„ ë’¤ `func`ë¥¼ ì‹¤í–‰í•œë‹¤. ê·¸ëŸ°ë° `wait` ì‹œê°„ì´ ê²½ê³¼í•˜ê¸° ì´ì „ì— ë‹¤ì‹œ ë™ì¼í•œ `event`ê°€ ë°œìƒí•˜ë©´ `clearTimeout`ìœ¼ë¡œ ë¬´ì¡°ê±´ ëŒ€ê¸°íë¥¼ ì´ˆê¸°í™”í•˜ê²Œ í•œë‹¤. ë‹¤ì‹œ ìƒˆë¡œìš´ ëŒ€ê¸°ì—´ì„ ë“±ë¡í•œë‹¤.

### ğŸˆ ì»¤ë§ í•¨ìˆ˜
- ì»¤ë§ í•¨ìˆ˜ë€ ì—¬ëŸ¬ ê°œì˜ ì¸ìë¥¼ ë°›ëŠ” í•¨ìˆ˜ë¥¼ í•˜ë‚˜ì˜ ì¸ìë§Œ ë°›ëŠ” í•¨ìˆ˜ë¡œ ë‚˜ëˆ ì„œ ìˆœì°¨ì ìœ¼ë¡œ í˜¸ì¶œë  ìˆ˜ ìˆê²Œ ì²´ì¸ í˜•íƒœë¡œ êµ¬ì„±í•œ ê²ƒì„ ë§í•œë‹¤.
- ì»¤ë§ì€ í•œ ë²ˆì— í•˜ë‚˜ì˜ ì¸ìë¥¼ ì „ë‹¬í•˜ëŠ” ê²ƒì„ ì›ì¹™ìœ¼ë¡œ í•˜ê³  ì¤‘ê°„ ê³¼ì •ìƒì˜ í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•œ ê²°ê³¼ëŠ” ê·¸ë‹¤ìŒ ì¸ìë¥¼ ë°›ê¸° ìœ„í•´ ëŒ€ê¸°ë§Œ í•  ë¿ìœ¼ë¡œ, ë§ˆì§€ë§‰ ì¸ìê°€ ì „ë‹¬ë˜ê¸° ì „ê¹Œì§€ëŠ” ì›ë³¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ”ë‹¤.

```js
var curry3 = function (func) {
  return function (a) {
    return function (b) {
      return func(a, b);
    };
  };
};

var getMaxWith10 = curry3(Math.max)(10);
console.log(getMaxWith10(8)); // 10
console.log(getMaxWith10(25)); // 25

var getMinWith10 = curry3(Math.min)(10);
console.log(getMinWith10(8)); // 8
console.log(getMinWith10(25)); // 10
```

- ê° ë‹¨ê³„ì—ì„œ ë°›ì€ ì¸ìë“¤ì€ ëª¨ë‘ ë§ˆì§€ë§‰ ë‹¨ê³„ì—ì„œ ì°¸ì¡°í•  ê²ƒì´ë¯€ë¡œ GCë˜ì§€ ì•Šê³  ë©”ëª¨ë¦¬ì— ì°¨ê³¡ì°¨ê³¡ ìŒ“ì˜€ë‹¤ê°€, ë§ˆì§€ë§‰ í˜¸ì¶œë¡œ ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ê°€ ì¢…ë£Œëœ í›„ì—ì•¼ ë¹„ë¡œì†Œ í•œêº¼ë²ˆì— GCì˜ ìˆ˜ê±° ëŒ€ìƒì´ ëœë‹¤.
- ì¦‰, ë‹¹ì¥ í•„ìš”í•œ ì •ë³´ë§Œ ë°›ì•„ì„œ ì „ë‹¬í•˜ê³  ë˜ í•„ìš”í•œ ì •ë³´ê°€ ë“¤ì–´ì˜¤ë©´ ì „ë‹¬í•˜ëŠ” ì‹ìœ¼ë¡œ í•˜ë©´ ê²°êµ­ ë§ˆì§€ë§‰ ì¸ìê°€ ë„˜ì–´ê°ˆ ë•Œê¹Œì§€ í•¨ìˆ˜ ì‹¤í–‰ì„ ë¯¸ë£° ìˆ˜ ìˆë‹¤. ì´ë¥¼ í•¨ìˆ˜í˜• í”„ë¡œê·¸ë¨ë°ì—ì„œ ì§€ì—°ì‹¤í–‰ì´ë¼ê³  í•œë‹¤.
