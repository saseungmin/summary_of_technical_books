# π Chapter 6: λ©”μ‹μ§€μ™€ μΈν„°νμ΄μ¤
- ν›λ¥­ν• κ°μ²΄μ§€ν–¥ μ½”λ“λ¥Ό μ–»κΈ° μ„ν•΄μ„λ” ν΄λμ¤κ°€ μ•„λ‹λΌ κ°μ²΄λ¥Ό μ§€ν–¥ν•΄μ•Ό ν•λ‹¤. μΆ€ λ” μ •ν™•ν•κ² λ§ν•΄μ„ ν‘λ ¥ μ•μ—μ„ κ°μ²΄κ°€ μν–‰ν•λ” μ±…μ„μ— μ΄μ μ„ λ§μ¶°μ•Ό ν•λ‹¤. μ—¬κΈ°μ„ μ¤‘μ”ν• κ²ƒμ€ μ±…μ„μ΄ κ°μ²΄κ°€ μμ‹ ν•  μ μλ” λ©”μ‹μ§€μ κΈ°λ°μ΄ λλ‹¤λ” κ²ƒμ΄λ‹¤.

## π“ ν‘λ ¥κ³Ό λ©”μ‹μ§€

### π ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈ
- ν‘λ ¥μ€ μ–΄λ–¤ κ°μ²΄κ°€ λ‹¤λ¥Έ κ°μ²΄μ—κ² λ¬΄μ–Έκ°€λ¥Ό μ”μ²­ν•  λ• μ‹μ‘λλ”λ° λ©”μ‹μ§€λ” κ°μ²΄ μ‚¬μ΄μ ν‘λ ¥μ„ κ°€λ¥ν•κ² ν•λ” λ§¤κ°μ²΄λ‹¤. 
- κ°μ²΄κ°€ λ‹¤λ¥Έ κ°μ²΄μ—κ² μ ‘κ·Όν•  μ μλ” μ μΌν• λ°©λ²•μ€ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ²ƒλΏμ΄λ‹¤.
- λ‘ κ°μ²΄ μ‚¬μ΄μ ν‘λ ¥ κ΄€κ³„λ¥Ό μ„¤λ…ν•κΈ° μ„ν•΄ μ‚¬μ©ν•λ” μ „ν†µμ μΈ λ©”νƒ€ν¬λ” **ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ λ¨λΈ**μ΄λ‹¤. (λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ°μ²΄λ” ν΄λΌμ΄μ–ΈνΈ, λ©”μ‹μ§€λ¥Ό μμ‹ ν•λ” κ°μ²΄λ” μ„λ²„ / λ‹¨λ°©ν–¥ μƒνΈμ‘μ©)
- ν‘λ ¥μ κ΄€μ μ—μ„ κ°μ²΄λ” λ‘ κ°€μ§€ μΆ…λ¥μ λ©”μ‹μ§€ μ§‘ν•©μΌλ΅ κµ¬μ„±λλ”λ° ν•λ‚λ” κ°μ²΄κ°€ μμ‹ ν•λ” λ©”μ‹μ§€μ μ§‘ν•©μ΄κ³  λ‹¤λ¥Έ ν•λ‚λ” μ™Έλ¶€μ κ°μ²΄μ—κ² μ „μ†΅ν•λ” λ©”μ‹μ§€μ μ§‘ν•©μ΄λ‹¤.
- κ°μ²΄κ°€ λ…λ¦½μ μΌλ΅ μν–‰ν•  μ μλ” κ²ƒλ³΄λ‹¤ λ” ν° μ±…μ„μ„ μν–‰ν•κΈ° μ„ν•΄μ„λ” λ‹¤λ¥Έ κ°μ²΄μ™€ ν‘λ ¥ν•΄μ•Ό ν•λ‹¤. κ·Έλ¦¬κ³  λ‘ κ°μ²΄ μ‚¬μ΄μ ν‘λ ¥μ„ κ°€λ¥ν•κ² ν•΄μ£Όλ” λ§¤κ²μ²΄κ°€ λ°”λ΅ λ©”μ‹μ§€μ΄λ‹¤.

### π λ©”μ‹μ§€μ™€ λ©”μ‹μ§€ μ „μ†΅
- **λ©”μ‹μ§€**λ” κ°μ²΄λ“¤μ΄ ν‘λ ¥ν•κΈ° μ„ν•΄ μ‚¬μ©ν•  μ μλ” μ μΌν• μμ‚¬μ†ν†µ μλ‹¨μ΄λ‹¤.
- **λ©”μ‹μ§€ μ „μ†΅**(**λ©”μ‹μ§€ ν¨μ‹±**)μ€ ν• κ°μ²΄κ°€ λ‹¤λ¥Έ κ°μ²΄μ—κ² λ„μ›€μ„ μ”μ²­ν•λ” κ²ƒμ΄λ‹¤.
- **λ©”μ‹μ§€ μ „μ†΅μ**λ” λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ°μ²΄μ΄λ‹¤. (ν΄λΌμ΄μ–ΈνΈ)
- **λ©”μ‹μ§€ μμ‹ μ**λ” λ©”μ‹μ§€λ¥Ό μμ‹ ν•λ” κ°μ²΄μ΄λ‹¤. (μ„λ²„)
- λ©”μ‹μ§€λ” **μ¤νΌλ μ΄μ…λ…**κ³Ό **μΈμ**λ΅ κµ¬μ„±λλ©° λ©”μ‹μ§€ μ „μ†΅μ€ μ—¬κΈ°μ— **λ©”μ‹μ§€ μμ‹ μ**λ¥Ό μ¶”κ°€ν• κ²ƒμ΄λ‹¤. λ”°λΌμ„ λ©”μ‹μ§€ μ „μ†΅μ€ λ©”μ‹μ§€ μμ‹ μ, μ¤νΌλ μ΄μ…λ…, μΈμμ μ΅°ν•©μ΄λ‹¤.
- μ•„λλ” μλ°”μ μμ‹μ΄λ‹¤.

```java
//μμ‹ μ.μ¤νΌλ μ΄μ…λ…(μΈμ)
condition.isSatisfiedBy(screening);
```

### π λ©”μ‹μ§€μ™€ λ©”μ„λ“
- λ©”μ‹μ§€λ¥Ό μμ‹ ν–μ„ λ• μ‹¤μ λ΅ μ‹¤ν–‰λλ” ν•¨μ λλ” ν”„λ΅μ‹μ €λ¥Ό **λ©”μ„λ“**λΌκ³  λ¶€λ¥Έλ‹¤.
- μ½”λ“ μƒμ—μ„ λ™μΌν• μ΄λ¦„μ λ³€μμ—κ² λ™μΌν• λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ”λΌλ„ κ°μ²΄μ νƒ€μ…μ— λ”°λΌ μ‹¤μ  μ‹¤ν–‰λλ” λ©”μ„λ“κ°€ λ‹¬λΌμ§ μ μλ‹¤.
- κ°μ²΄λ” λ©”μ‹μ§€μ™€ λ©”μ„λ“λΌλ” λ‘ κ°€μ§€ μ„λ΅ λ‹¤λ¥Έ κ°λ…μ„ μ‹¤ν–‰ μ‹μ μ— μ—°κ²°ν•΄μ•Ό ν•κΈ° λ•λ¬Έμ— μ»΄νμΌ μ‹μ κ³Ό μ‹¤ν–‰ μ‹μ μ μλ―Έκ°€ λ‹¬λΌμ§ μ μλ‹¤. λ©”μ‹μ§€μ™€ λ©”μ„λ“μ κµ¬λ¶„μ€ λ©”μ‹μ§€ μ „μ†΅μμ™€ μμ‹ μκ°€ λμ¨ν•κ² κ²°ν•©λ  μ μκ² ν•λ‹¤.
- λ©”μ‹μ§€ μ „μ†΅μλ” μμ‹ μ΄ μ–΄λ–¤ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•΄μ•Ό ν•λ”μ§€λ§ μ•λ©΄ λλ‹¤. μμ‹ μλ” μ–΄λ–¤ ν΄λμ¤μ μΈμ¤ν„΄μ¤μΈμ§€, μ–΄λ–¤ λ°©μ‹μΌλ΅ μ”μ²­μ„ μ²λ¦¬ν•λ”μ§€ λ¨λ¥΄λ”λΌλ„ μ›ν™ν• ν‘λ ¥μ΄ κ°€λ¥ν•λ‹¤. λ©”μ‹μ§€ μμ‹ μ μ—­μ‹ λ„κ°€ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ”μ§€ μ• ν•„μ”κ°€ μ—†λ‹¤. λ‹¨μ§€ λ©”μ‹μ§€κ°€ λ„μ°©ν–λ‹¤λ” μ‚¬μ‹¤λ§ μ•λ©΄ λλ‹¤.

### π νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ™€ μ¤νΌλ μ΄μ…
- μ™Έλ¶€μ κ°μ²΄λ” μ¤μ§ κ°μ²΄κ°€ κ³µκ°ν•λ” λ©”μ‹μ§€λ¥Ό ν†µν•΄μ„λ§ κ°μ²΄μ™€ μƒνΈμ‘μ©ν•  μ μλ‹¤. μ΄μ²λΌ κ°μ²΄κ°€ μμ‚¬μ†ν†µμ„ μ„ν•΄ μ™Έλ¶€μ— κ³µκ°ν•λ” λ©”μ‹μ§€μ μ§‘ν•©μ„ **νΌλΈ”λ¦­ μΈν„°νμ΄μ¤**λΌκ³  λ¶€λ¥Έλ‹¤.
- ν”„λ΅κ·Έλλ° μ–Έμ–΄μ κ΄€μ μ—μ„ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— ν¬ν•¨λ λ©”μ‹μ§€λ¥Ό **μ¤νΌλ μ΄μ…**μ΄λΌκ³  λ¶€λ¥Έλ‹¤. μ¤νΌλ μ΄μ…μ€ μν–‰ κ°€λ¥ν• μ–΄λ–¤ ν–‰λ™μ— λ€ν• μ¶”μƒν™”λ‹¤. (`DiscountCondition`μΈν„°νμ΄μ¤μ— μ •μλ `isSatisfiedBy`κ°€ μ¤νΌλ μ΄μ…μ— ν•΄λ‹Ήν•λ‹¤.)
- κ·Έμ— λΉ„ν•΄ λ©”μ‹μ§€λ¥Ό μμ‹ ν–μ„ λ• μ‹¤μ λ΅ μ‹¤ν–‰λλ” μ½”λ“λ” λ©”μ„λ“λΌκ³  λ¶€λ¥Έλ‹¤. (`SequenceCondition`, `PeriodCondition`μ— μ •μλ κ°κ°μ `isSatisfiedBy`λ” μ‹¤μ  κµ¬ν„μ„ ν¬ν•¨ν•κΈ° λ•λ¬Έμ— λ©”μ„λ“λΌκ³  λ¶€λ¥Έλ‹¤.)

### π μ‹κ·Έλ‹μ²
- μ¤νΌλ μ΄μ…(λλ” λ©”μ„λ“)μ μ΄λ¦„κ³Ό νλΌλ―Έν„°μ λ©λ΅μ„ ν•©μ³ **μ‹κ·Έλ‹μ²**(**signature**)λΌκ³  λ¶€λ¥Έλ‹¤.
- μ¤νΌλ μ΄μ…μ€ μ‹¤ν–‰ μ½”λ“ μ—†μ΄ μ‹κ·Έλ‹μ²λ§ μ •μν• κ²ƒμ΄λ‹¤. λ©”μ„λ“λ” μ΄ μ‹κ·Έλ‹μ²μ— κµ¬ν„μ„ λ”ν• κ²ƒμ΄λ‹¤.
- μΌλ°μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μμ‹ ν•λ©΄ μ¤νΌλ μ΄μ…μ μ‹κ·Έλ‹μ²μ™€ λ™μΌν• λ©”μ„λ“κ°€ μ‹¤ν–‰λλ‹¤.
- μ¤νΌλ μ΄μ…μ κ΄€μ μ—μ„ λ‹¤ν•μ„±μ΄λ€ λ™μΌν• μ¤νΌλ μ΄μ… νΈμ¶μ— λ€ν•΄ μ„λ΅ λ‹¤λ¥Έ λ©”μ„λ“λ“¤μ΄ μ‹¤ν–‰λλ” κ²ƒμ΄λΌκ³  μ •μν•  μ μλ‹¤.

## π“ μΈν„°νμ΄μ¤ν†Ό μ„¤κ³„ ν’μ§
- μΆ‹μ€ μΈν„°νμ΄μ¤λ” **μµμ†ν•μ μΈν„°νμ΄μ¤**μ™€ **μ¶”μƒμ μΈ μΈν„°νμ΄μ¤**λΌλ” μ΅°κ±΄μ„ λ§μ΅±ν•΄μ•Ό ν•λ‹¤.
- μµμ†ν•μ μΈν„°νμ΄μ¤λ” κΌ­ ν•„μ”ν• μ¤νΌλ μ΄μ…λ§μ„ μΈν„°νμ΄μ¤μ— ν¬ν•¨ν•λ” κ²ƒμ΄κ³  μ¶”μƒμ μΈ μΈν„°νμ΄μ¤λ” μ–΄λ–»κ² μν–‰ν•λ”μ§€κ°€ μ•„λ‹λΌ **λ¬΄μ—‡μ„ ν•λ”μ§€**λ¥Ό ν‘ν„ν•λ‹¤.
- μ΄λ ‡κ² μ„¤κ³„ν•  μ μλ” κ°€μ¥ μΆ‹μ€ λ°©λ²•μ€ μ±…μ„ μ£Όλ„ μ„¤κ³„ λ°©λ²•μ„ λ”°λ¥΄λ” κ²ƒμ΄λ‹¤. (λ©”μ‹μ§€λ¥Ό λ¨Όμ € μ„ νƒν•¨μΌλ΅μ¨ λ¬΄κ΄€ν• μ¤νΌλ μ΄μ…μ΄ μΈν„°νμ΄μ¤μ— μ¤λ©°λ“λ” κ²ƒμ„ λ°©μ§€)
- λ©”μ‹μ§€κ°€ κ°μ²΄λ¥Ό μ„ νƒν•κ² ν•¨μΌλ΅μ¨ ν΄λΌμ΄μ–ΈνΈμ μλ„λ¥Ό λ©”μ‹μ§€μ— ν‘ν„ν•  μ μκ² ν•λ‹¤.
  
### π λ””λ―Έν„° λ²•μΉ™
- 4μ¥μ μ μ°¨μ μΈ λ°©μ‹μ μν™” μλ§¤ μ‹μ¤ν… μ½”λ“ μ¤‘ ν• μΈ κ°€λ¥ μ—¬λ¶€λ¥Ό μ²΄ν¬ν•λ” μ½”λ“μ΄λ‹¤.

```java
public class ReservationAgency {
  public Reservation reserve(Screening screening, Customer customer, int audienceCount) {
    Movie movie = screening.getMovie();

    boolean discountable = false;
    // DiscountConditionμ— λ€ν•΄ λ£¨ν”„λ¥Ό λλ©΄μ„ ν• μΈ κ°€λ¥ μ—¬λ¶€λ¥Ό ν™•μΈ
    for (DiscountCondition condition : movie.getDiscountConditions()) {
      if (condition.getType() == DiscountConditionType.PERIOD) {
        // κΈ°κ°„ μ΅°κ±΄
      } else {
        discountable = condition.getSequence() == screening.getSequence();
      }

      if (discountable) {
        break;
      }
    }

    // ...
  }
}
```

- μ΄ μ½”λ“μ—μ„ κ°€μ¥ ν° λ‹¨μ μ€ `ReservationAgency`μ™€ μΈμλ΅ μ „λ‹¬λ `Screening` μ‚¬μ΄μ κ²°ν•©λ„κ°€ λ„λ¬΄ λ†’κΈ° λ•λ¬Έμ— `Screening` λ‚΄λ¶€ κµ¬ν„μ„ λ³€κ²½ν•  λ• λ§λ‹¤ `ReservationAgency`λ„ ν•¨κ» λ³€κ²½λλ‹¤λ” κ²ƒμ΄λ‹¤.
- μ΄μ²λΌ ν‘λ ¥ν•λ” κ°μ²΄μ λ‚΄λ¶€ κµ¬μ΅°μ— λ€ν• κ²°ν•©μΌλ΅ μΈν•΄ λ°μƒν•λ” μ„¤κ³„ λ¬Έμ λ¥Ό ν•΄κ²°ν•κΈ° μ„ν•΄ μ μ•λ μ›μΉ™μ΄ **λ””λ―Έν„° λ²•μΉ™**(**Law of Demeter**)μ΄λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ€ κ°μ²΄μ λ‚΄λ¶€ κµ¬μ΅°μ— κ°•ν•κ² κ²°ν•©λμ§€ μ•λ„λ΅ ν‘λ ¥ κ²½λ΅λ¥Ό μ μ•ν•λΌλ” κ²ƒμ΄λ‹¤. (λ‚―μ„  μμ—κ² λ§ν•μ§€ λ§λΌ, μ¤μ§ μΈμ ‘ν• μ΄μ›ƒν•κ³ λ§ λ§ν•λΌ)
- λ””λ―Έν„° λ²•μΉ™μ„ λ”°λ¥΄κΈ° μ„ν•΄μ„λ” ν΄λμ¤κ°€ νΉμ •ν• μ΅°κ±΄μ„ λ§μ΅±ν•λ” λ€μƒμ—κ²λ§ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ„λ΅ ν”„λ΅κ·Έλλ°ν•΄μ•Ό ν•λ‹¤.
- λ¨λ“  ν΄λμ¤ Cμ™€ Cμ— κµ¬ν„λ λ¨λ“  λ©”μ„λ“ Mμ— λ€ν•΄μ„, Mμ΄ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•  μ μλ” λ¨λ“  κ°μ²΄λ” λ‹¤μμ— μ„μ λ ν΄λμ¤μ μΈμ¤ν„΄μ¤μ—¬μ•Ό ν•λ‹¤. μ΄λ• Mμ— μν•΄ μƒμ„±λ κ°μ²΄λ‚ Mμ΄ νΈμ¶ν•λ” λ©”μ„λ“μ— μν•΄ μƒμ„±λ κ°μ²΄, μ „μ—­ λ³€μλ΅ μ„ μ–Έλ κ°μ²΄λ” λ¨λ‘ Mμ μΈμλ΅ κ°„μ£Όν•λ‹¤.
- λ‹¤μμ€ 4μ¥μ—μ„ κ²°ν•©λ„ λ¬Έμ λ¥Ό ν•΄κ²¨λΌκΈ° μ„ν•΄ μμ •ν• `ReservationAgency`μ μµμΆ… μ½”λ“μ΄λ‹¤.

```java
public class ReservationAgency {
  public Reservation reserve(Screening screening, Customer customer, int audienceCount) {
    Money fee = screening.calculateFee(audienceCount);
    return new Reservation(customer, screening, fee, audienceCount);
  }
}
```

- μ΄ μ½”λ“μ—μ„ `ReservationAgency`λ” λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬λ `Screening` μΈμ¤ν„΄μ¤μ—κ²λ§ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ‹¤. `ReservationAgency`λ” `Screening` λ‚΄λ¶€μ— λ€ν• μ–΄λ–¤ μ •λ³΄λ„ μ•μ§€ λ»ν•λ‹¤. λ•λ¬Έμ— `Screening`μ λ‚΄λ¶€ κµ¬ν„μ„ λ³€κ²½ν•΄λ„ `ReservationAgency`λ¥Ό λ³€κ²½ν•  ν•„μ”κ°€ μ—†λ‹¤.
- λ””λ―Έν„°μ λ²•μΉ™μ„ λ”°λ¥΄λ©΄ **λ¶€λ„λΌνƒ€λ” μ½”λ“**λ¥Ό μ‘μ„±ν•  μ μλ‹¤. λ¶€λ„λΌνƒ€λ” μ½”λ“λ€ λ¶ν•„μ”ν• μ–΄λ–¤ κ²ƒλ„ λ‹¤λ¥Έ κ°μ²΄μ—κ² λ³΄μ—¬μ£Όμ§€ μ•μΌλ©°, λ‹¤λ¥Έ κ°μ²΄μ κµ¬ν„μ— μμ΅΄ν•μ§€ μ•λ” μ½”λ“λ¥Ό λ§ν•λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ„ λ”°λ¥΄λ” μ½”λ“λ” λ©”μ‹μ§€ μμ‹ μμ λ‚΄λ¶€ κµ¬μ΅°κ°€ μ „μ†΅μμ—κ² λ…Έμ¶λμ§€ μ•μΌλ©°, λ©”μ‹μ§€ μ „μ†΅μλ” μμ‹ μμ λ‚΄λ¶€ κµ¬ν„μ— κ²°ν•©λμ§€ μ•λ”λ‹¤. λ”°λΌμ„ λ‚®μ€ κ²°ν•©λ„λ¥Ό μ μ§€ν•  μ μλ‹¤.
- λ‹¤μμ€ λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ” μ½”λ“μ΄λ‹¤.

```java
screening.getMovie().getDiscountConditions();
```
- λ©”μ‹μ§€ μ „μ†΅μκ°€ μμ‹ μμ λ‚΄λ¶€ κµ¬μ΅°μ— λ€ν•΄ λ¬Όμ–΄λ³΄κ³  λ°ν™ν•λ” μ”μ†μ— λ€ν•΄ μ—°μ‡„μ μΌλ΅ λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ‹¤. μ΄μ™€ κ°™μ€ μ½”λ“λ¥Ό **κΈ°μ°¨ μ¶©λ**(**train wreck**)μ΄λΌκ³  λ¶€λ¥Έλ‹¤. λ‚΄λ¶€ κµ¬ν„μ΄ μ™Έλ¶€λ΅ λ…Έμ¶λμ–΄ λ©”μ‹μ§€ μμ‹ μμ μΊ΅μν™”λ” λ¬΄λ„μ§€κ³ , λ©”μ‹μ§€ μ „μ†΅μκ°€ λ©”μ‹μ§€ μμ‹ μμ λ‚΄λ¶€ κµ¬ν„μ— κ°•ν•κ² κ²°ν•©λλ‹¤.
- λ‹¤μκ³Ό κ°™μ΄ κ°μ„ ν•  μ μλ‹¤.

```java
screening.calculateFee(audienceCount);
```

- λ””λ―Έν„° λ²•μΉ™μ€ κ°μ²΄κ°€ μκΈ° μμ‹ μ„ μ±…μ„μ§€λ” μμ¨μ μΈ μ΅΄μ¬μ—¬μ•Ό ν•λ‹¤λ” μ‚¬μ‹¤μ„ κ°•μ΅°ν•λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ€ κ°μ²΄μ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ¬»λ” λ©”μ‹μ§€κ°€ μ•„λ‹λΌ μμ‹ μμ—κ² λ¬΄μ–Έκ°€λ¥Ό μ‹ν‚¤λ” λ©”μ‹μ§€κ°€ λ” μΆ‹μ€ λ©”μ‹μ§€λΌκ³  μ†μ‚­μΈλ‹¤.

### π λ¬»μ§€ λ§κ³  μ‹μΌλΌ
- λ””λ―Έν„° λ²•μΉ™μ€ ν›λ¥­ν• λ©”μ‹μ§€λ” κ°μ²΄μ μƒνƒμ— κ΄€ν•΄ λ¬»μ§€ λ§κ³  μ›ν•λ” κ²ƒμ„ μ‹μΌμ•Ό ν•λ‹¤λ” μ‚¬μ‹¤μ„ κ°•μ΅°ν•λ‹¤. **λ¬»μ§€ λ§κ³  μ‹μΌλΌ**λ” μ΄λ° μ¤νƒ€μΌμ λ©”μ‹μ§€ μ‘μ„±μ„ μ¥λ ¤ν•λ” μ›μΉ™μ„ κ°€λ¦¬ν‚¤λ” μ©μ–΄λ‹¤.
- λ©”μ‹μ§€ μ „μ†΅μλ” λ©”μ‹μ§€ μμ‹ μμ μƒνƒλ¥Ό κΈ°λ°μΌλ΅ κ²°μ •μ„ λ‚΄λ¦° ν›„ λ©”μ‹μ§€ μμ‹ μμ μƒνƒλ¥Ό λ°”κΏ”μ„λ” μ• λλ‹¤.
- μ΄ μ›μΉ™μ„ λ”°λ¥΄λ©΄ λ°€μ ‘ν•κ² μ—°κ΄€λ μ •λ³΄μ™€ ν–‰λ™μ„ ν•¨κ» κ°€μ§€λ” κ°μ²΄λ¥Ό λ§λ“¤ μ μλ‹¤. λν• κ°μ²΄μ μ •λ³΄λ¥Ό μ΄μ©ν•λ” ν–‰λ™μ„ κ°μ²΄μ μ™Έλ¶€κ°€ μ•„λ‹ λ‚΄λ¶€μ— μ„μΉμ‹ν‚¤κΈ° λ•λ¬Έμ— μμ—°μ¤λ½κ² μ •λ³΄μ™€ ν–‰λ™μ„ λ™μΌν• ν΄λμ¤ μ•μ— λ‘κ² λλ‹¤.

### π μλ„λ¥Ό λ“λ¬λ‚΄λ” μΈν„°νμ΄μ¤
- λ‹¤μκ³Ό κ°™μ΄ λ©”μ„λ“κ°€ μ‘μ—…μ„ μ–΄λ–»κ² μν–‰ν•λ”μ§€λ¥Ό λ‚νƒ€λ‚΄λ„λ΅ μ΄λ¦„μ„ μ§“λ” κ²ƒμ€ λ‚΄λ¶€ κµ¬ν„ λ°©λ²•μ„ λ“λ¬λ‚΄μ„ μΆ‹μ§€ μ•λ” λ°©λ²•μ΄λ‹¤.

```java
public class PeriodCondition {
  public boolean isSatisfiedByPeriod(Screening screening) { }
}

public class SequenceCondition {
  public boolean isSatisfiedBySequence(Screening screening) { }
}
```

- λ©”μ„λ“μ μ΄λ¦„μ„ μ§“λ” λ°©λ²•μ€ μ–΄λ–»κ²κ°€ μ•„λ‹λΌ **λ¬΄μ—‡**μ„ ν•λ”μ§€λ¥Ό λ“λ¬λ‚΄μ•Ό ν•λ‹¤. μ΄λ ‡κ² μ΄λ¦„μ„ μ§€μΌλ©΄ μ΄ν•΄ν•κΈ° μ‰½κ² λ§λ“¤ μ μκ³  μ μ—°ν• μ½”λ“λ¥Ό λ‚³λ”λ‹¤.
- λ¬΄μ—‡μ„ ν•λ”μ§€λ¥Ό λ“λ¬λ‚΄λ„λ΅ μ΄λ¦„μ„ λ³€κ²½ν•κΈ° μ„ν•΄μ„λ” ν΄λΌμ΄μ–ΈνΈμ κ΄€μ μ—μ„ ν‘λ ¥μ„ λ°”λΌλ΄μ•Ό ν•λ‹¤. ν΄λΌμ΄μ–ΈνΈ κ΄€μ μ—μ„μ λ‘ λ©”μ„λ“λ” ν• μΈ μ—¬λ¶€λ¥Ό νλ‹¨ν•κΈ° μ„ν• μ‘μ—…μ„ μν–‰ν•κΈ° λ–„λ¬Έμ— `isSatisfiedBy`λ΅ λ³€κ²½ν•λ” κ²ƒμ΄ μ μ ν•λ‹¤.

```java
public class PeriodCondition {
  public boolean isSatisfiedBy(Screening screening) { }
}

public class SequenceCondition {
  public boolean isSatisfiedBy(Screening screening) { }
}
```

- ν΄λΌμ΄μ–ΈνΈμ μ…μ¥μ—μ„ λ‘ λ©”μ„λ“λ” λ™μΌν• λ©”μ‹μ§€λ¥Ό μ„λ΅ λ‹¤λ¥Έ λ°©λ²•μΌλ΅ μ²λ¦¬ν•κΈ° λ•λ¬Έμ— λ€μ²΄ κ°€λ¥ν•λ‹¤. λ•λ¬Έμ— `DiscountCondition`μ΄λΌλ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•κ³  μΈν„°νμ΄μ¤μ— `isSatisfiedBy` μ¤νΌλ μ΄μ…μ„ μ •μν•λ‹¤.

```java
public interface DiscountCondition {
  boolean isSatisfiedBy(Screening screening);
}
```

- λ©”μ‹μ§€λ¥Ό μ–΄λ–»κ² μν–‰ν•λλƒκ°€ μ•„λ‹λΌ λ¬΄μ—‡μ„ ν•λλƒμ— μ΄μ μ„ λ§μ¶”λ©΄ ν΄λΌμ΄μ–ΈνΈμ κ΄€μ μ—μ„ λ™μΌν• μ‘μ—…μ„ μν–‰ν•λ” λ©”μ„λ“λ“¤μ„ ν•λ‚μ νƒ€μ… κ³„μΈµμΌλ΅ λ¬¶μ„ μ μλ” κ°€λ¥μ„±μ΄ μ»¤μ§„λ‹¤. μ΄μ²λΌ μ΄λ¦„μ„ μ§“λ” ν¨ν„΄μ„ **μλ„λ¥Ό λ“λ¬λ‚΄λ” μ„ νƒμ**(**Intention Revealing Selector**)λΌκ³  λ¶€λ¥Έλ‹¤.

### π ν•¨κ» λ¨μΌκΈ°
- λ””λ―Έν„° λ²•μΉ™, λ¬»μ§€ λ§κ³  μ‹μΌλΌ μ¤νƒ€μΌ, μλ„λ¥Ό λ“λ¬λ‚΄λ” μΈν„°νμ΄μ¤λ¥Ό μ΄ν•΄ν•  μ μλ” μΆ‹μ€ λ°©λ²• μ¤‘ ν•λ‚λ” μ΄ μ›μΉ™μ„ μ„λ° ν•λ” μ½”λ“λ¥Ό μ‚΄ν΄λ³΄λ” κ²ƒμ΄λ‹¤.
- 1μ¥μ ν‹°μΌ“ νλ§¤ λ„λ©”μΈμ΄ λ°”λ΅ κ·Έκ²ƒμ΄λ‹¤.

#### π¶ λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ” ν‹°μΌ“ νλ§¤ λ„λ©”μΈ

```java
public class Theater {
  private TicketSeller ticketSeller;

  public Theater(TicketSeller ticketSeller) {
    this.ticketSeller = ticketSeller;
  }

  public void enter(Audience audience) {
    if (audience.getBag().hasInvitation()) { // μ΄λ€μ¥μ΄ μμΌλ©΄
      Ticket ticket = ticketSeller.getTicketOffice().getTicket();
      audience.getBag().setTicket(ticket); // νλ§¤μ›μ΄ ν‹°μΌ“μ„ μ¤€λ‹¤.
    } else { // μ΄λ€μ¥μ΄ μ—†μΌλ©΄
      Ticket ticket = ticketSeller.getTicketOffice().getTicket();
      audience.getBag().minusAmount(ticket.getFee()); // κ΄€λκ°μ΄ λμ„ μ§€λ¶ν•λ‹¤.
      ticketSeller.getTicketOffice().plusAmount(ticket.getFee()); // νλ§¤μ›μ΄ λμ„ λ°›λ”λ‹¤.
      audience.getBag().setTicket(ticket); // ν‹°μΌ“μ„ μ¤€λ‹¤.
    }
  }
}
```

- μ„ `Theater`λ” μΈμλ΅ μ „λ‹¬λ `audience`μ™€ μΈμ¤ν„΄μ¤ λ³€μμΈ `ticketSeller`μ—κ² λ©”μ‹μ§€λ¥Ό μ „μ†΅ν•λ” κ²ƒμ€ λ¬Έμ κ°€ μ—†μ§€λ§ `audience`μ™€ `ticketSeller` λ‚΄λ¶€μ— ν¬ν•¨λ κ°μ²΄μ—λ„ μ§μ ‘ μ ‘κ·Όν•κΈ° λ–„λ¬Έμ— λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•κ³  μλ‹¤.

```java
audience.getBag().minusAmount(ticket.getFee());
```

- κ·Όλ³Έμ μΌλ΅ λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ” μ„¤κ³„λ” **μΈν„°νμ΄μ¤μ™€ κµ¬ν„μ λ¶„λ¦¬ μ›μΉ™**μ„ μ„λ°ν•λ‹¤.
- κ°μ²΄μ λ‚΄λ¶€ κµ¬μ΅°λ” κµ¬ν„μ— ν•΄λ‹Ήν•λ‹¤. `Audience`κ°€ `Bag`μ„ ν¬ν•ν•λ‹¤λ” μ‚¬μ‹¤μ€ `Audience`μ λ‚΄λ¶€ κµ¬ν„μ— μ†ν•λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ” μ½”λ“λ¥Ό μμ •ν•λ” μΌλ°μ μΈ λ°©λ²•μ€ `Audience`μ™€ `TicketSeller`μ λ‚΄λ¶€ κµ¬μ΅°λ¥Ό λ¬»λ” λ€μ‹  `Audience`μ™€ `TicketSeller`κ°€ μ§μ ‘ μμ‹ μ μ±…μ„μ„ μν–‰ν•λ„λ΅ μ‹ν‚¤λ” κ²ƒμ΄λ‹¤.

#### π¶ λ¬»μ§€ λ§κ³  μ‹μΌλΌ
- **1μ¥μ κµ¬ν„ λ‚΄μ©κ³Ό λΉ„μ·. μ±… μ°Έκ³ **

```java
public class Theater {
  public void enter(Audience audience) {
    ticketSeller.setTicket(audience);
  }
}

public class TicketSeller {
  public void setTicket(Audience audience) {
    ticketOffice.plusAmount(
      audience.setTicket(ticketOffice.getTicket());
    )
  }
}

public class Audience {
  public Long setTicket(Ticket ticket) {
    return bag.setTicket(ticket);
  }
}
```
- λ””λ―Έν„° λ²•μΉ™κ³Ό λ¬»μ§€ λ§κ³  μ‹μΌλΌ μ¤νƒ€μΌμ„ λ”°λ¥΄λ©΄ μμ—°μ¤λ½κ² μμ¨μ μΈ κ°μ²΄λ΅ κµ¬μ„±λ μ μ—°ν• ν‘λ ¥μ„ μ–»κ² λλ‹¤.
- κµ¬ν„μ΄ κ°μ²΄μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— λ…Έμ¶λμ§€ μ•κΈ° λ•λ¬Έμ— κ°μ²΄ μ‚¬μ΄μ κ²°ν•©λ„λ” λ‚®μ•„μ§„λ‹¤. μ‘μ§‘λ„ μ—­μ‹ λ†’μ•„μ§„λ‹¤.

#### π¶ μΈν„°νμ΄μ¤μ— μλ„λ¥Ό λ“λ¬λ‚΄μ
- ν„μ¬μ μΈν„°νμ΄μ¤λ” ν΄λΌμ΄μ–ΈνΈμ μλ„λ¥Ό λ…ν™•ν•κ² λ“λ¬λ‚΄μ§€ λ»ν•λ‹¤. `TicketSeller`μ `setTicket`?? `Audience`μ `setTicket`??
- ν΄λΌμ΄μ–ΈνΈ κ°λ°μλ¥Ό νΌλ€μ¤λ½κ² λ§λ“¤ ν™•λ¥ μ΄ λ†’λ‹¤. μλ„λ¥Ό λ…ν™•ν•κ² λ“λ¬λ‚΄μ§€ λ»ν•κ³  μλ‹¤.

```java
public class TicketSeller {
  public void sellTo(Audience audience) {}
}

public class Audience {
  public Long buy(Ticket ticket) {}
}

public class Bag {
  public Long hold(Ticket ticket) {}
}
```
- μ¤νΌλ μ΄μ…μ μ΄λ¦„μ€ ν‘λ ¥μ΄λΌλ” λ¬Έλ§¥μ„ λ°μν•΄μ•Ό ν•λ‹¤. μ¤νΌλ μ΄μ…μ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ°μ²΄μ—κ² λ¬΄μ—‡μ„ μ›ν•λ”μ§€ ν‘ν„ν•΄μ•Ό ν•λ‹¤. λ‹¤μ‹ λ§ν•΄ κ°μ²΄ μμ‹ μ΄ μ•„λ‹ ν΄λΌμ΄μ–ΈνΈμ μλ„λ¥Ό ν‘ν„ν•λ” μ΄λ¦„μ„ κ°€μ Έμ•Ό ν•λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ€ κ°μ²΄ κ°„μ ν‘λ ¥μ„ μ„¤κ³„ν•  λ• μΊ΅μν™”λ¥Ό μ„λ°ν•λ” λ©”μ‹μ§€κ°€ μΈν„°νμ΄μ¤μ— ν¬ν•¨λμ§€ μ•λ„λ΅ μ ν•ν•λ‹¤.
- λ¬»μ§€ λ§κ³  μ‹μΌλΌ μ›μΉ™μ€ λ””λ―Έν„° λ²•μΉ™μ„ μ¤€μν•λ” ν‘λ ¥μ„ λ§λ“¤κΈ° μ„ν• μ¤νƒ€μΌμ„ μ μ‹ν•λ‹¤.
- μλ„λ¥Ό λ“λ¬λ‚΄λ” μΈν„°νμ΄μ¤ μ›μΉ™μ€ κ°μ²΄μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— μ–΄λ–¤ μ΄λ¦„μ΄ λ“λ¬λ‚μ•Ό ν•λ”μ§€μ— λ€ν• μ§€μΉ¨μ„ μ κ³µν•¨μΌλ΅μ¨ μ½”λ“μ λ©μ μ„ λ…ν™•ν•κ² μ»¤λ®¤λ‹μΌ€μ΄μ…ν•  μ μκ² ν•΄μ¤€λ‹¤.

## π“ μ›μΉ™μ ν•¨μ •
- μ΄ μ„Έ κ°€μ§€ μ›μΉ™μ€ κ°μ²΄μ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤λ¥Ό κΉ”λ”ν•κ³  μ μ—°ν•κ² λ§λ“¤ μ μλ” ν›λ¥­ν• μ„¤κ³„ μ›μΉ™μ΄μ§€λ§ μ λ€μ μΈ λ²•μΉ™μ€ μ•„λ‹λ‹¤.
- μ›μΉ™μ΄ ν„μ¬ μƒν™©μ— λ¶€μ ν•©ν•λ‹¤κ³  νλ‹¨λλ‹¤λ©΄ κ³Όκ°ν•κ² μ›μΉ™μ„ λ¬΄μ‹ν•λΌ. μ›μΉ™μ„ μ•„λ” κ²ƒλ³΄λ‹¤ λ” μ¤‘μ”ν• κ²ƒμ΄ μ–Έμ  μ›μΉ™μ΄ μ μ©ν•κ³  μ–Έμ  μ μ©ν•μ§€ μ•μ€μ§€λ¥Ό νλ‹¨ν•  μ μλ” λ¥λ ¥μ„ κΈ°λ¥΄λ” κ²ƒμ΄λ‹¤.

### π λ””λ―Έν„° λ²•μΉ™μ€ ν•λ‚μ λ„νΈ(.)λ¥Ό κ°•μ ν•λ” κ·μΉ™μ΄ μ•„λ‹λ‹¤
- μ•„λμ μ½”λ“κ°€ λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•λ‹¤ μƒκ°ν•  μλ„ μλ‹¤.

```java
IntStream.of(1, 15, 20, 3, 9).filter(x -> x > 10).distinct().count();
```

- ν•μ§€λ§ μ„ μ½”λ“μ—μ„ `of`, `filter`, `distinct` λ©”μ„λ“λ” λ¨λ‘ `IntStream`μ΄λΌλ” λ™μΌν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ¥Ό λ°ν™ν•λ‹¤. μ¦‰, `IntStream`μ μΈμ¤ν„΄μ¤λ¥Ό λ λ‹¤λ¥Έ `IntStream`μ μΈμ¤ν„΄μ¤λ΅ λ³€ν™ν•λ‹¤.
- λ”°λΌμ„ μ΄ μ½”λ“λ” λ””λ―Έν„° λ²•μΉ™μ„ μ„λ°ν•μ§€ μ•λ”λ‹¤.
- μ™Έ μ½”λ“λ” λ‚΄λ¶€ κµ¬μ΅°κ°€ μ™Έλ¶€λ΅ λ…Έμ¶λμ§€ μ•λ”λ‹¤. λ‹¨μ§€ λ‹¤λ¥Έ `IntStream`μΌλ΅ λ³€ν™ν•  λΏ, κ°μ²΄λ¥Ό λ‘λ¬μ‹Έκ³  μλ” μΊ΅μμ€ κ·Έλ€λ΅ μ μ§€λλ‹¤.

### π κ²°ν•©λ„μ™€ μ‘μ§‘λ„μ μ¶©λ
- μΌλ°μ μΌλ΅ μ–΄λ–¤ κ°μ²΄μ μƒνƒλ¥Ό λ¬Όμ–΄λ³Έ ν›„ λ°ν™λ μƒνƒλ¥Ό κΈ°λ°μΌλ΅ κ²°μ •μ„ λ‚΄λ¦¬κ³  κ·Έ κ²°μ •μ— λ”°λΌ κ°μ²΄μ μƒνƒλ¥Ό λ³€κ²½ν•λ” μ½”λ“λ” λ¬»μ§€ λ§κ³  μ‹μΌλΌ μ¤νƒ€μΌλ΅ λ³€κ²½ν•΄μ•Ό ν•λ‹¤.
- ν•μ§€λ§ λ¬»μ§€ λ§κ³  μ‹μΌλΌμ™€ λ””λ―Έν„° λ²•μΉ™μ„ μ¤€μν•λ” κ²ƒμ΄ ν•­μƒ κΈμ •μ μΈ κ²°κ³Όλ΅λ§ κ·€κ²°λλ” κ²ƒμ€ μ•„λ‹λ‹¤. λ¨λ“  μƒν™©μ—μ„ λ§Ήλ©μ μΌλ΅ μ„μ„ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ κ°™μ€ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤ μ•μ— μ–΄μΈλ¦¬μ§€ μ•λ” μ¤νΌλ μ΄μ…λ“¤μ΄ κ³µμ΅΄ν•κ² λλ‹¤. κ²°κ³Όμ μΌλ΅ μ‘μ§‘λ„κ°€ λ‚®μ•„μ§„λ‹¤.
- ν΄λμ¤λ” ν•λ‚μ λ³€κ²½ μ›μΈλ§ κ°€μ Έμ•Ό ν•λ‹¤.
- λ””λ―Έν„° λ²•μΉ™μ μ„λ° μ—¬λ¶€λ” λ¬»λ” λ€μƒμ΄ κ°μ²΄μΈμ§€, μλ£ κµ¬μ΅°μΈμ§€μ— λ‹¬λ ¤μλ‹¤. κ°μ²΄λ” λ‚΄λ¶€ κµ¬μ΅°λ¥Ό μ¨κ²¨μ•Ό ν•λ―€λ΅ λ””λ―Έν„° λ²•μΉμ„ λ”°λ¥΄λ” κ²ƒμ΄ μΆ‹μ§€λ§ μλ£ κµ¬μ΅°λΌλ©΄ λ‹Ήμ—°ν λ‚΄λ¶€λ¥Ό λ…Έμ¶ν•΄μ•Ό ν•λ―€λ΅ λ””λ―Έν„° λ²•μΉ™μ„ μ μ©ν•  ν•„μ”κ°€ μ—†λ‹¤.


## π“ λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™
- **λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™**μ€ νΌλΈ”λ¦­ μΈν„°νμ΄μ¤μ— μ¤νΌλ μ΄μ…μ„ μ •μν•  λ• μ°Έκ³ ν•  μ μλ” μ§€μΉ¨μ„ μ κ³µν•λ‹¤.
- **λ£¨ν‹΄**(**routine**)μ΄λ€ μ–΄λ–¤ μ μ°¨λ¥Ό λ¬¶μ–΄ νΈμ¶ κ°€λ¥ν•λ„λ΅ μ΄λ¦„μ„ λ¶€μ—¬ν• κΈ°λ¥ λ¨λ“μ΄λ‹¤.
- λ£¨ν‹΄μ€ **ν”„λ΅μ‹μ €**μ™€ **ν•¨μ**λ΅ κµ¬λ¶„ν•  μ μλ‹¤.
- ν”„λ΅μ‹μ €μ™€ ν•¨μμ κµ¬λ¶„μ€ λ¶€μν¨κ³Όμ™€ λ°ν™κ°’μ μ λ¬΄λ΅ κµ¬λ¶„λλ‹¤.
- ν”„λ΅μ‹μ €λ” μ •ν•΄μ§„ μ μ°¨μ— λ”°λΌ λ‚΄λ¶€μ μƒνƒλ¥Ό λ³€κ²½ν•λ” λ£¨ν‹΄μ ν• μΆ…λ¥λ‹¤.
- ν•¨μλ” μ–΄λ–¤ μ μ°¨μ— λ”°λΌ ν•„μ”ν• κ°’μ„ κ³„μ‚°ν•΄μ„ λ°ν™ν•λ” λ£¨ν‹΄μ ν• μΆ…λ¥μ΄λ‹¤.

> ν”„λ΅μ‹μ €λ” λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¬ μ μμ§€λ§ κ°’μ„ λ°ν™ν•  μ μ—†λ‹¤.   
> ν•¨μλ” κ°’μ„ λ°ν™ν•  μ μμ§€λ§ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¬ μ μ—†λ‹¤.

- **λ…λ Ή**κ³Ό **μΏΌλ¦¬**λ” κ°μ²΄μ μΈν„°νμ΄μ¤ μΈ΅λ©΄μ—μ„ ν”„λ΅μ‹μ €μ™€ ν•¨μλ¥Ό λ¶€λ¥΄λ” λ λ‹¤λ¥Έ μ΄λ¦„μ΄λ‹¤.
- κ°μ²΄μ μƒνƒλ¥Ό μμ •ν•λ” μ¤νΌλ μ΄μ…μ„ λ…λ Ήμ΄λΌκ³  λ¶€λ¥΄κ³  κ°μ²΄μ™€ κ΄€λ ¨λ μ •λ³΄λ¥Ό λ°ν™ν•λ” μ¤νΌλ μ΄μ…μ„ μΏΌλ¦¬λΌκ³  λ¶€λ¥Έλ‹¤.
- λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™μ μ”μ§€λ” μ¤νΌλ μ΄μ…μ€ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¤λ” λ…λ Ήμ΄κ±°λ‚ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•λ” μΏΌλ¦¬ μ¤‘ ν•λ‚μ—¬μ•Ό ν•λ‹¤λ” κ²ƒμ΄λ‹¤. μ–΄λ–¤ μ¤νΌλ μ΄μ…λ„ λ…λ ΉμΈ λ™μ‹μ— μΏΌλ¦¬μ—¬μ„λ” μ• λλ‹¤. λ”°λΌμ„ λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ¶„λ¦¬ν•κΈ° μ„ν•΄μ„λ” λ‹¤μμ λ‘ κ°€μ§€ κ·μΉ™μ„ μ¤€μν•΄μ•Ό ν•λ‹¤.
> κ°μ²΄μ μƒνƒλ¥Ό λ³€κ²½ν•λ” λ…λ Ήμ€ λ°ν™κ°’μ„ κ°€μ§ μ μ—†λ‹¤.   
> κ°μ²΄μ μ •λ³΄λ¥Ό λ°ν™ν•λ” μΏΌλ¦¬λ” μƒνƒλ¥Ό λ³€κ²½ν•  μ μ—†λ‹¤.

- λ§ν‹΄ νμΈλ¬λ” λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™μ— λ”°λΌ μ‘μ„±λ κ°μ²΄μ μΈν„°νμ΄μ¤λ¥Ό **λ…λ Ή-μΏΌλ¦¬ μΈν„°νμ΄μ¤**λΌκ³  λ¶€λ¥Έλ‹¤.

### π λ°λ³µ μΌμ •μ λ…λ Ήκ³Ό μΏΌλ¦¬ λ¶„λ¦¬ν•κΈ°
- λ‹¤μμ€ `Event` ν΄λμ¤μ΄λ‹¤.

```java
public class Event {
  private String subject; // μ£Όμ 
  private LocalDateTime from; // μ‹μ‘ μΌμ‹
  private Duration duration; // μ†μ” μ‹κ°„

  public Event(String subject, LocalDateTime from, Duration duration) {
    this.subject = subject;
    this.from = from;
    this.duration = duration;
  }
}
```

- λ§μ•½ 2019λ…„ 5μ›” 8μΌ μμ”μΌ 10μ‹ 30λ¶„λ¶€ν„° 11μ‹κΉμ§€ μ—΄λ¦¬λ” νμλ¥Ό ν‘ν„ν•λ” `Event`μ μΈμ¤ν„΄μ¤λ” λ‹¤μκ³Ό κ°™μ΄ μƒμ„±ν•  μ μλ‹¤.

```java
Event meeting = new Event("νμ",
  LocalDateTime.of(2019, 5, 8, 10, 30),
  Duration.ofMinutes(30));
```

- λ°λ³µ μΌμ •μ€ `RecurringSchedule` ν΄λμ¤λ΅ κµ¬ν„ν•  μ μλ‹¤.

```java
public class RecurringSchedule {
  private String subject; // μ£Όμ 
  private DayOfWeek dayOfWeek; // λ°λ³µλ  μ”μΌ
  private LocalTime from; // μ‹μ‘ μ‹κ°„
  private Duration duration; // κΈ°κ°„

  public RecurringSchedule(String subject, DayOfWeek dayOfWeek, LocalTime from, Duration duration) {
    this.subject = subject;
    this.dayOfWeek = dayOfWeek;
    this.from = from;
    this.duration = duration;
  }

  public DayOfWeek getDayOfWeek() {
    return dayOfWeek;
  }

  public LocalTime getFrom() {
    return from;
  }

  public Duration getDuration() {
    return duration;
  }
}
```

- λ‹¤μμ€ λ§¤μ£Ό μμ”μΌ 10μ‹ 30λ¶„λ¶€ν„° 30λ¶„ λ™μ• μ—΄λ¦¬λ” νμμ— λ€ν• μΈμ¤ν„΄μ¤λ¥Ό μƒμ„±ν• μ½”λ“μ΄λ‹¤.

```java
RecurringSchedule schedule = new RecurringSchedule("νμ", DayOfWeek.WEDNESDAY,
  LocalTime.of(10, 30), Duration.ofMinutes(30));
```

- `Event` ν΄λμ¤λ” ν„μ¬ μ΄λ²¤νΈκ°€ `RecurringSchedule`μ΄ μ •μν• λ°λ³µ μΌμ • μ΅°κ±΄μ„ λ§μ΅±μ‹ν‚¤λ”μ§€ κ²€μ‚¬ν•λ” `isSatisfied` λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤.

```java
RecurringSchedule schedule = new RecurringSchedule("νμ", DayOfWeek.WEDNESDAY,
  LocalTime.of(10, 30), Duration.ofMinutes(30));

Event meeting = new Event("νμ",
  LocalDateTime.of(2019, 5, 9, 10, 30),
  Duration.ofMinutes(30));

assert meeting.isSatisfied(schedule) == false;
assert meeting.isSatisfied(schedule) == true;
```

- ν•μ§€λ§ `isSatisfied` μ•μ— λ²„κ·Έκ°€ μ¨κ²¨μ Έ μλ‹¤.
- `Event`μΈμ¤ν„΄μ¤μΈ `meeting`μ€ 2019λ…„ 5μ›” 9μΌ 10μ‹ 30λ¶„λ¶€ν„° 30λ¶„ λ™μ• μ§„ν–‰λλ” νμμ΄λ‹¤. λ–„λ¬Έμ— `isSatisfied` μ΅°κ±΄μ— λ§μ΅±μ‹ν‚¤μ§€ λ»ν•λ‹¤. λ”°λΌμ„ `false`λ¥Ό λ°ν™ν•  κ²ƒμ΄λ‹¤.
- ν•μ§€λ§ λ‹¤μ‹ ν• λ² `isSatisfied` λ©”μ„λ“λ¥Ό νΈμ¶ν•λ©΄ `true`λ¥Ό λ°ν™ν•λ‹¤.
- λ‹¤μμ€ `isSatisfied` λ©”μ„λ“μ΄λ‹¤.

```java
public class Event {
  public boolean isSatisfied(RecurringSchedule schedule) {
    if (from.getDayOfWeek() != schedule.getDayOfWeek() ||
      !from.toLocalTime().equals(schedule.getFrom()) ||
      !duration.equals(schedule.getDuration())) {
        reschedule(schedule); // reschedule λ©”μ„λ“λ” Event κ°μ²΄μ μƒνƒλ¥Ό μμ •ν•λ‹¤!
        return false;
    }

    return true;
  }
}
```
- `reschedule`λ” λ°ν™”μ „μ— `Event` κ°μ²΄λ¥Ό μμ • ν›„ λ°ν™ν•λ‹¤.
- λ²„κ·Έλ¥Ό μ°ΎκΈ° μ–΄λ ¤μ› λ μ΄μ λ” `isSatisfied`κ°€ λ…λ Ήκ³Ό μΏΌλ¦¬μ λ‘ κ°€μ§€ μ—­ν• μ„ λ™μ‹μ— μν–‰ν•κ³  μκΈ° λ•λ¬Έμ΄λ‹¤.
- λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ’¤μ„μΌλ©΄ μ‹¤ν–‰ κ²°κ³Όλ¥Ό μμΈ΅ν•κΈ°κ°€ μ–΄λ ¤μ›μ§„λ‹¤. λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ…ν™•ν•κ² λ¶„λ¦¬ν•΄λΌ.

```java
public class Event {
  public boolean isSatisfied(RecurringSchedule schedule) {
    if (from.getDayOfWeek() != schedule.getDayOfWeek() ||
      !from.toLocalTime().equals(schedule.getFrom()) ||
      !duration.equals(schedule.getDuration())) {
        return false;
    }

    return true;
  }

  public void reschedule(RecurringSchedule schedule) {
    from = LocalDateTime.of(from.toLocalDate().plusDays(daysDistance(schedule))
      schedule.getFrom());
    duration = schedule.getDuration();
  }
}
```

- μ΄μ  `Event`λ¥Ό λ³΄λ©΄ λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ¶„λ¦¬ν• μƒνƒμ΄λ―€λ΅ μΈν„°νμ΄μ¤λ¥Ό ν›‘μ–΄λ³΄λ” κ²ƒλ§μΌλ΅λ„ `isSatisfied`κ°€ μΏΌλ¦¬κ³ , `reschedule` λ©”μ„λ“κ°€ λ…λ Ήμ΄λΌλ” μ‚¬μ‹¤μ„ ν•λμ— μ• μ μλ‹¤.
- λ°ν™ κ°’μ„ κ°€μ§€μ§€ μ•λ” λ©”μ„λ“λ” λ¨λ‘ λ…λ Ήμ΄λ―€λ΅ ν•΄λ‹Ή λ©”μ„λ“λ¥Ό νΈμ¶ν•  λ•λ” λ¶€μν¨κ³Όμ— μ£Όμν•΄μ•Ό ν•λ‹¤.

### π λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬μ™€ μ°Έμ΅° ν¬λ…μ„±
- λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ¶„λ¦¬ν•¨μΌλ΅μ¨ λ…λ Ήν• μ–Έμ–΄μ ν‹€ μ•μ—μ„ **μ°Έμ΅° ν¬λ…μ„±**μ μ¥μ μ„ μ ν•μ μ΄λ‚λ§ λ„λ¦΄ μ μκ² λλ‹¤.
- ν”„λ΅κ·Έλ¨μ—μ„ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¤λ” λ‘ κ°€μ§€ λ€ν‘μ μΈ λ¬Έλ²•μ€ λ€μ…λ¬Έκ³Ό ν•¨μλ‹¤.
- λ¶€μν¨κ³Όλ¥Ό λ§ν•  λ• λΉ μ§ μ μ—†λ” κ²ƒμ΄ λ°”λ΅ μ°Έμ΅° ν¬λ…μ„±μΈλ° μ°Έμ΅° ν¬λ…μ„±μ΄λ€ μ–΄λ–¤ ν¬ν„μ‹ eκ°€ μμ„ λ• eμ κ°’μΌλ΅ eκ°€ λ‚νƒ€λ‚λ” λ¨λ“  μ„μΉλ¥Ό κµμ²΄ν•λ”λΌλ„ κ²°κ³Όκ°€ λ‹¬λΌμ§€μ§€ μ•λ” νΉμ„±μ΄λ‹¤.
- μν•™μ€ μ°Έμ΅° ν¬λ…μ„±μ„ μ—„κ²©ν•κ² μ¤€μν•λ” κ°€μ¥ μ λ…ν• μ²΄κ³„μ΄λ‹¤. μ–΄λ–¤ ν•¨μ `f(n)`μ΄ μ΅΄μ¬ν•  λ• `n`μ κ°’μΌλ΅ 1μ„ λ€μ…ν•λ©΄ κ·Έ κ²°κ³Όκ°€ 3μ΄λΌκ³  κ°€μ •ν•λ‹¤. μ¦‰, `f(1) = 3`μ΄λ‹¤.

```
f(1) + f(1) = 6
f(1) * 2 = 6
f(1) - 1 = 2
```

- μ΄μ  `f(1)`μ„ κ²°κ΄κ°’μΈ 3μΌλ΅ λ°”κΏ” λ³Έλ‹¤. 3μΌλ΅ λ³€κ²½ν•΄λ„ κ²°κ³Όλ” λ³€ν•μ§€ μ•λ”λ‹¤.

```
3 + 3 = 6
3 * 2 = 6
3 - 1 = 2
```

- μ΄κ²ƒμ΄ μ°Έμ΅° ν¬λ…μ„±μ΄λ‹¤. `f(n)`μ΄ μ–΄λ””μ— μ΅΄μ¬ν•λ `n`μ κ°’μ΄ 1μ΄λΌλ©΄ κ·Έ κ²°κ³Όλ” 3μ΄λ‹¤. λ™μΌν• μ…λ ¥μ— λ€ν•΄ ν•­μƒ λ™μΌν• κ°’μ„ μ¶λ ¥ν•λ” κ²ƒμ΄λ‹¤.
- `f(1)`μ΄ 3μ΄λΌκ³  λ§ν•  μ μλ” μ΄μ λ” `f(1)`κ°’μ€ λ³€ν•μ§€ μ•κΈ° λ–„λ¬Έμ΄λ‹¤. μ΄μ²λΌ κ°’μ΄ λ³€ν•μ§€ μ•λ” μ„±μ§μ„ **λ¶λ³€μ„±**μ΄λΌκ³  λ¶€λ¥Έλ‹¤. λ¶λ³€ν•λ‹¤λ” λ§μ€ λ¶€μν¨κ³Όλ¥Ό λ°μƒμ‹ν‚¤μ§€ μ•λ”λ‹¤λ” λ§κ³Ό λ™μΌν•λ‹¤.
- λ¶λ³€μ„±μ€ λ¶€μν¨κ³Όμ λ°μƒμ„ λ°©μ§€ν•κ³  μ°Έμ΅° ν¬λ…μ„±μ„ λ§μ΅±μ‹ν‚¨λ‹¤. λν• μμ„λ¥Ό λ³€κ²½ν•λ”λΌλ„ κ²°κ³Όκ°€ λ‹¬λΌμ§€μ§€ μ•λ”λ‹¤.

```
f(1) - 1 = 2
f(1) * 2 = 6
f(1) + f(1) = 6
```

- μ°Έμ΅° ν¬λ…μ„±μ„ λ§μ΅±ν•λ” μ‹μ€ λ‹¤μκ³Ό κ°™μ€ μ¥μ μ„ μ κ³µν•λ‹¤.

> - λ¨λ“  ν•¨μλ¥Ό μ΄λ―Έ μ•κ³  μλ” ν•λ‚μ κ²°κ΄κ°’μΌλ΅ λ€μ²΄ν•  μ μκΈ° λ•λ¬Έμ— μ‹μ„ μ‰½κ² κ³„μ‚°ν•  μ μλ‹¤.
> - λ¨λ“  κ³³μ—μ„ ν•¨μμ κ²°κ΄κ°’μ΄ λ™μΌν•κΈ° λ•λ¬Έμ— μ‹μ μμ„λ¥Ό λ³€κ²½ν•λ”λΌλ„ κ° μ‹μ κ²°κ³Όλ” λ‹¬λΌμ§€μ§€ μ•λ”λ‹¤.

- κ°μ²΄μ§€ν–¥ ν¨λ¬λ‹¤μ„μ΄ κ°μ²΄μ μƒνƒ λ³€κ²½μ΄λΌλ” λ¶€μν¨κ³Όλ¥Ό κΈ°λ°μΌλ΅ ν•κΈ° λ•λ¬Έμ— μ°Έμ΅° ν¬λ…μ„±μ€ μμ™Έμ— κ°€κΉλ‹¤. ν•μ§€λ§ λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™μ„ μ‚¬μ©ν•λ©΄ μ΄ λ¬Έμ λ¥Ό μ΅°κΈμ΄λ‚λ§ μ¤„μΌ μ μλ‹¤.
- λ…λ Ή-μΏΌλ¦¬ λ¶„λ¦¬ μ›μΉ™μ€ λ¶€μν¨κ³Όλ¥Ό κ°€μ§€λ” λ…λ ΉμΌλ΅λ¶€ν„° λ¶€μν¨κ³Όλ¥Ό κ°€μ§€μ§€ μ•λ” μΏΌλ¦¬λ¥Ό λ…λ°±ν•κ² λ¶„λ¦¬ν•¨μΌλ΅μ¨ μ ν•μ μ΄λ‚λ§ μ°Έμ΅° ν¬λ…μ„±μ ννƒμ„ λ„λ¦΄ μ μκ² λλ‹¤.

### π μ±…μ„μ— μ΄μ μ„ λ§μ¶°λΌ
- λ””λ―Έν„° λ²•μΉ™μ„ μ¤€μν•κ³  λ¬»μ§€ λ§κ³  μ‹μΌλΌ μ¤νƒ€μΌμ„ λ”°λ¥΄λ©΄μ„λ„ μλ„λ¥Ό λ“λ¬λ‚΄λ” μΈν„°νμ΄μ¤λ¥Ό μ„¤κ³„ν•λ” μ•„μ£Ό μ‰¬μ΄ λ°©λ²•μ€ λ©”μ‹μ§€λ¥Ό λ¨Όμ € μ„ νƒν•κ³  κ·Έ ν›„ λ©”μ‹μ§€λ¥Ό μ²λ¦¬ν•  κ°μ²΄λ¥Ό μ„ νƒν•λ” κ²ƒμ΄λ‹¤.
- λ…λ Ήκ³Ό μΏΌλ¦¬λ¥Ό λ¶„λ¦¬ν•κ³  κ³„μ•½μ— μν• μ„¤κ³„ κ°λ…μ„ ν†µν•΄ κ°μ²΄μ ν‘λ ¥ λ°©μ‹μ„ λ…μ‹μ μΌλ΅ λ“λ¬λ‚Ό μ μλ” λ°©λ²•μ€ κ°μ²΄μ κµ¬ν„ μ΄μ „μ— κ°μ²΄ μ‚¬μ΄μ ν‘λ ¥μ— μ΄μ μ„ λ‘κ³  ν‘λ ¥ λ°©μ‹μ„ λ‹¨μν•κ³  μ μ—°ν•κ² λ§λ“λ” κ²ƒμ΄λ‹¤.
- μ΄ λ¨λ“  λ°©γ…‡μ‹μ­ μ¤‘μ‹¬μ—λ” κ°μ²΄κ°€ μν–‰ν•  μ±…μ„μ΄ μ„μΉν•λ‹¤.
- ν›λ¥­ν• λ©”μ‹μ§€λ¥Ό μ–»κΈ° μ„ν• μ¶λ°μ μ€ μ±…μ„ μ£Όλ„ μ„¤κ³„ μ›μΉ™μ„ λ”°λ¥΄λ” κ²ƒμ΄λ‹¤. μ±…μ„ μ£Όλ„ μ„¤κ³„ λ°©λ²•μ— λ”°λΌ λ©”μ‹μ§€κ°€ κ°μ²΄λ¥Ό κ²°μ •ν•κ² ν•λΌ.