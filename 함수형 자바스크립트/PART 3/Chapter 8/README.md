## ğŸŒˆ Chapter 8: ë¹„ë™ê¸° ì´ë²¤íŠ¸ì™€ ë°ì´í„°ë¥¼ ê´€ë¦¬


### ğŸ“š ê³¨ì¹«ë©ì´ ë¹„ë™ê¸° ì½”ë“œ
- ë¹„ì°¨ë‹¨ ë¹„ë™ê¸° í˜¸ì¶œ ì½”ë“œë¥¼ êµ¬í˜„í•˜ì—¬ ë¬¸ì œë¥¼ í•´ê²°í•˜ëŠ”ë° ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ë°œëª©ì„ ì¡ëŠ”ë‹¤.
  1. í•¨ìˆ˜ ê°„ì— ì¼ì‹œì  ì˜ì¡´ ê´€ê³„ê°€ í˜•ì„±
  2. ì–´ì©” ìˆ˜ ì—†ì´ ì½œë°± í”¼ë¼ë¯¸ë“œ ëŠªì— ë¹ ì§
  3. ë™ê¸°/ë¹„ë™ê¸° ì½”ë“œì˜ í˜¸í™˜ë˜ì§€ ì•ŠëŠ” ì¡°í•©

#### ğŸˆ í•¨ìˆ˜ ê°„ì— ì¼ì‹œì  ì˜ì¡´ ê´€ê³„ê°€ í˜•ì„±
- **ì¼ì‹œì  ê²°í•©(temporal coupling)** (**ì¼ì‹œì  ì‘ì§‘ temporal cohesion**)ì€ ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë…¼ë¦¬ì ìœ¼ë¡œ ë¬¶ì–´ ì‹¤í–‰í•  ë•Œ ë°œìƒí•œë‹¤.
- ë°ì´í„°ê°€ ë„ì°©í•  ë•Œê¹Œì§€, ë˜ëŠ” ë‹¤ë¥¸ í•¨ìˆ˜ê°€ ì‹¤í–‰ë  ë•Œê¹Œì§€ ì–´ë–¤ í•¨ìˆ˜ê°€ **ê¸°ë‹¤ë ¤ì•¼ í•˜ëŠ” ê²½ìš°**ì´ë‹¤.
- ë°ì´í„°ë“  ì‹œê°„ì´ë“  ì–´ëŠ ìª½ì— ì˜ì§€í•˜ëŠ” ìˆœê°„ë¶€í„° ë¶€ìˆ˜íš¨ê³¼ê°€ ë°œìƒí•œë‹¤.
- ì›ê²© IO ì‘ì—…ì€ ë‚˜ë¨¸ì§€ ë‹¤ë¥¸ ì½”ë“œì— ë¹„í•´ ì†ë„ê°€ ëŠë¦´ ìˆ˜ë°–ì— ì—†ìœ¼ë¯€ë¡œ ë°ì´í„° ìš”ì²­ í›„ ë‹¤ì‹œ ëŒì•„ì˜¬ ë•Œê¹Œì§€ 'ëŒ€ê¸°' ê°€ëŠ¥í•œ ë¹„ì°¨ë‹¨ í”„ë¡œì„¸ìŠ¤ì—ê²Œ ì²˜ë¦¬ë¥¼ ìœ„ì„í•œë‹¤.
- ì½œë°± í•¨ìˆ˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë§ì´ ì“°ì´ì§€ë§Œ, ëŒ€ëŸ‰ ë°ì´í„°ë¥¼ ìˆœì°¨ì ìœ¼ë¡œ ë¡œë“œí•  ê²½ìš° í™•ì¥í•˜ê¸°ê°€ ì–´ë µê³  ê²°êµ­ **ì½œë°± í”¼ë¼ë¯¸ë“œì— ë¹ ì§€ê²Œ ëœë‹¤.**

#### ğŸˆ ì½œë°± í”¼ë¼ë¯¸ë“œì˜ ëŠªì— ë¹ ì§
- ì½œë°±ì˜ ì£¼ìš©ë„ëŠ” **ì²˜ë¦¬ ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦¬ëŠ” í”„ë¡œì„¸ìŠ¤ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ë„ì¤‘ UIë¥¼ ì°¨ë‹¨í•˜ì§€ ì•ŠëŠ” ê²ƒ**ì´ë‹¤.
- ì½œë°±ì„ ë°›ëŠ” í•¨ìˆ˜ëŠ” ê°’ì„ ë°˜í™˜í•˜ëŠ” ëŒ€ì‹  **ì œì–´ì˜ ì—­ì „(inversion of control)**ì„ ì‹¤ì²œí•œë‹¤.

```js
var students = null;
getJSON('/students',
  function(students) {
    showStudents(students);
  },
  function(error) {
    console.log(error.message);
  },
);
```
- ê·¸ëŸ¬ë‚˜ ì´ëŸ° ì‹ì˜ ì œì–´ì˜ ì—­ì „ êµ¬ì¡°ëŠ” í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì˜ ì„¤ê³„ ì‚¬ìƒê³¼ ì •ë©´ìœ¼ë¡œ ë°°ì¹˜ëœë‹¤.
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë¨ì˜ í•¨ìˆ˜ëŠ” **ì„œë¡œ ë…ë¦½ì ì´ë©°, ê°’ì„ í˜¸ì¶œìì— ì¦‰ì‹œ ë°˜í™˜**í•´ì•¼ í•œë‹¤.

#### ğŸˆ ì—°ì†ì²´ ì „ë‹¬ ìŠ¤íƒ€ì¼
- ì¤‘ì²©ëœ ì½œë°± í•¨ìˆ˜ëŠ” ì½ê¸°ë„ ì–´ë µì§€ë§Œ, **ìê¸° ìŠ¤ì½”í”„ ë° ìì‹ ì´ ì¤‘ì²©ëœ í•¨ìˆ˜ì˜ ë³€ìˆ˜ ìŠ¤ì½”í”„ë¥¼ ê°ì‹¼ í´ë¡œì €ë¥¼ ë§Œë“ ë‹¤.**
- ì–´ë–¤ í•¨ìˆ˜ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ì— ì¤‘ì²©í•˜ëŠ” ê±´, ê·¸ í•¨ìˆ˜ê°€ ì–´ë–¤ ì¼ì„ ë‹¬ì„±í•˜ê¸° ìœ„í•´ **ìì‹ ì˜ ì™¸ë¶€ ë³€ìˆ˜ì— ì§ì ‘ ì ‘ê·¼í•´ì•¼ í•  ê²½ìš°ì—ë§Œ ì˜ë¯¸**ê°€ ìˆë‹¤.
- í•˜ì§€ë§Œ ë‚´ë¶€ ì½œë°± í•¨ìˆ˜ëŠ” ë¶ˆí•„ìš”í•œ ì™¸ë¶€ ë°ì´í„°ë¥¼ ì°¸ì¡°í•˜ëŠ” ë ˆí¼ëŸ°ìŠ¤ë¥¼ ê°€ì§€ê³  ìˆë‹¤.
- ì´ëŸ° ì½”ë“œë¥¼ **ì—°ì†ì²´ ì „ë‹¬ ìŠ¤íƒ€ì¼(continuation-passing style, CPS)** ë¡œ ë°”ê¾¸ì–´ ê°œì„ ì´ ê°€ëŠ¥í•˜ë‹¤.

```js
var selector = document.querySelector;

selector('#search-button').addEventListener('click', handleClickEvent);

const processGrades = function (grades) {
  // í•™ìƒì˜ ì ìˆ˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ì²˜ë¦¬..
};

const handleMouseMovement = () => 
  getJSON(`/students/${info.ssn}/grades`, processGrades);

const showStudent = function (info) {
  selector('#student-info').innerHTML = info;
  selector('#student-info').addEventListener(
    'mouseover', handleMouseMovement
  );
};

const handleError = error => 
  console.log('error: ' + error.message);

const handleClickEvent = function (event) {
  event.preventDefault();

  let ssn = selector('#student-info').value;
  if(!ssn) {
    alert('ì˜ëª»ëœ ssn!');
    return;
  }
  else {
    getJSON(`/students/${ssn}`, showStudent).fail(handleError);
  }
}
```

- CPSëŠ” **ë¹„ì°¨ë‹¨ í”„ë¡œê·¸ë¨ì˜ ì¡°ê°ë“¤ì„ ê°œë³„ ì»´í¬ë„ŒíŠ¸ë¡œ ë¶„ë¦¬í•˜ê¸° ìœ„í•œ í”„ë¡œê·¸ë˜ë° ìŠ¤íƒ€ì¼ì´ë‹¤.**
- ì—¬ê¸°ì„œ ì½œë°± í•¨ìˆ˜ëŠ” **í˜„ì¬ ì—°ì†ì²´(current continuation)** ë¼ê³  ë¶€ë¥´ë©°, ì´ í•¨ìˆ˜ ìì²´ë¥¼ **í˜¸ì¶œìì—ê²Œ ë°˜í™˜ê°’ìœ¼ë¡œ ëŒë ¤ì¤€ë‹¤.**
- CPSì˜ ì¤‘ìš”í•œ ê°•ì ì€ **ì½˜í…ìŠ¤íŠ¸ ìŠ¤íƒì˜ íš¨ìœ¨ì´ ì¢‹ë‹¤ëŠ” ì ì´ë‹¤.**
- ì´ì–´ì§€ëŠ” ê³¼ì •ì—ì„œ í˜„ì¬ í•¨ìˆ˜ì˜ ì½˜í…ìŠ¤íŠ¸ë¥¼ ì •ë¦¬í•˜ê³  ìƒˆ ì½˜í…ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‹¤ìŒ í•¨ìˆ˜ë¥¼ ì§€ì›í•˜ëŠ” ì‹ìœ¼ë¡œ í”„ë¡œê·¸ë¨ì˜ íë¦„ì„ ê³„ì† ì´ì–´ê°„ë‹¤.
- CPS ì½”ë”©ì€ ì½”ë“œì— ì”ì¡´í•˜ëŠ” ì¼ì‹œì  ì˜ì¡´ ê´€ê³„ë¥¼ ì²™ê²°í•˜ê³ , ë¹„ë™ê¸° íë¦„ì„ ì„ í˜•ì ì¸ í•¨ìˆ˜ í‰ê°€ í˜•íƒœë¡œ ë‘”ê°‘ì‹œí‚¤ëŠ” ëŠ¥ë ¥ì´ ìˆë‹¤.

### ğŸ“š ë¹„ë™ê¸° ë¡œì§ì„ í”„ë¼ë¯¸ìŠ¤ë¡œ ì¼ê¸‰í™”
- í•¨ìˆ˜í˜• í”„ë¡œê·¸ë˜ë°ì´ë¼ë©´ ì´ëŸ° íŠ¹ì„±ì„ ì§€ë…€ì•¼ í•œë‹¤.
  1. í•©ì„±ê³¼ ë¬´ì¸ìˆ˜ í”„ë¡œê·¸ë˜ë°ì„ ì´ìš©í•œë‹¤.
  2. ì¤‘ì²©ëœ êµ¬ì¡°ë¥¼ ë³´ë‹¤ ì„ í˜•ì ìœ¼ë¡œ íë¥´ê²Œ ëˆŒë ¤ í¸ë‹¤.
  3. ì¼ì‹œì  ê²°í•©ì€ ì¶”ìƒí•˜ê¸° ë•Œë¬¸ì— ê°œë°œìëŠ” ë” ì´ìƒ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ë‹¤.
  4. ì—¬ëŸ¬ ì½œë°± ëŒ€ì‹ , ë‹¨ì¼ í•¨ìˆ˜ë¡œ ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ì„ í†µí•©í•˜ì—¬ ì½”ë“œ íë¦„ì„ ì›í• í•˜ê²Œ í•œë‹¤.
- ëª¨ë‚˜ë“œì—ëŠ” **í”„ë¼ë¯¸ìŠ¤(promise)** ë¼ëŠ” ê²ƒì´ ì¡´ì¬í•˜ëŠ”ë° í”„ë¼ë¯¸ìŠ¤ëŠ” ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°ì„ ëª¨ë‚˜ë“œë¡œ ê°ì‹¸ëŠ” ê°œë…ì´ë‹¤.
- í”„ë¼ë¯¸ìŠ¤ëŠ” **ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°ì´ ëë‚  ë•Œê¹Œì§€ ê¸°ë‹¤ë ¸ë‹¤ê°€ ë¯¸ë¦¬ ë§¤í•‘í•œ í•¨ìˆ˜ë¥¼ ì‹¤í–‰**í•œë‹¤.
- í”„ë¼ë¯¸ìŠ¤ëŠ” ìš°ì§í•˜ê³  íˆ¬ëª…í•˜ê²Œ ë°ì´í„°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ê°œë…ì´ë‹¤.
- í”„ë¼ë¯¸ìŠ¤ëŠ” ë‚˜ì¤‘ì— ì²˜ë¦¬ê°€ ëë‚˜ëŠ” ê°’ì´ë‚˜ í•¨ìˆ˜ë¥¼ ê°ì‹¼ë‹¤.
- í”„ë¼ë¯¸ìŠ¤ì˜ ìƒíƒœëŠ” ì–¸ì œë‚˜ **ë³´ë¥˜(pending)**, **ì´ë£¸(fulfilled)**, **ë²„ë¦¼(rejected)**, **ê·€ê²°(settled)** í•˜ë‚˜ì´ë‹¤.
- ì²˜ìŒì€ ë³´ë¥˜(ë¯¸ê²°) ìƒíƒœë¡œ ì‹œì‘í•˜ê³  ì˜¤ë˜ ê±¸ë¦¬ëŠ” ì‘ì—… ê²°ê³¼ì— ë”°ë¼ ì´ë£¸(resolve) ë˜ëŠ” ë²„ë¦¼(rejected) ìƒíƒœë¡œ ë¶„ê¸°í•œë‹¤.
- í”„ë¼ë¯¸ìŠ¤ê°€ ë¬¸ì œì—†ì´ ì´ë£¨ì–´ì§€ë©´ ë‹¤ë¥¸ ê°ì²´ì— ë°ì´í„°ê°€ ë‹¹ë„í–ˆìŒì„ í†µë³´í•˜ê³ , ì²˜ë¦¬ ë„ì¤‘ ì—ëŸ¬ê°€ ë‚˜ë©´ ë¯¸ë¦¬ ë“±ë¡í•œ ì‹¤íŒ¨ ì½œë°± í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. ì´ë•Œ í”„ë¼ë¯¸ìŠ¤ëŠ” **ê·€ê²°ëœ ìƒíƒœ**ë¼ê³  ë³¸ë‹¤.

```js
var fetchData = new Promise(function(resolve, reject) {
  // ë¹„ë™ê¸° í˜¹ì€ ì˜¤ë˜ ê±¸ë¦¬ëŠ” ê³„ì‚°ì„ í•œë‹¤.
  if (ì„±ê³µí•˜ë©´) {
    resolve(result);
  }
  else {
    reject(new Error('error'));
  }
});
```

- í”„ë¼ë¯¸ìŠ¤ ìƒì„±ìëŠ” ë¹„ë™ê¸° ì‘ì—…ì„ ê°ì‹¼ í•¨ìˆ˜(**ì•¡ì…˜ í•¨ìˆ˜**)ë¥¼ ë°›ê³  ì´ í•¨ìˆ˜ëŠ” `resolve`ì™€ `reject` ì½œë°± 2ê°œë¥¼ ë°›ê³ , ê°ê° í”„ë¼ë¯¸ìŠ¤ê°€ ì´ë£¸/ë²„ë¦¼ ìƒíƒœì¼ ë•Œ í˜¸ì¶œëœë‹¤.

```js
var Scheduler = (function () {
  let delayedFn = _.bind(setTimeout, undefined, _, _);

  return {
    delay5: _.partial(delayedFn, _, 5000),
    delay10: _.partial(delayedFn, _, 10000),
    delay: _.partial(delayedFn, _, _),
  };
})();

var promiseDemo = new Promise(function(resolve, reject) {
  Scheduler.delay5(function () { // ì˜¤ë˜ê±¸ë¦¬ëŠ” ì‘ì—…ì„ ì§€ì—° í•¨ìˆ˜ë¡œ ë‚˜íƒ€ë‚¸ë‹¤.
    resolve('ì™„ë£Œ!');
  });
});

promiseDemo.then(function(status) {
  console.log('5ì´ˆ í›„ ìƒíƒœ: '+ status); // 5ì´ˆ í›„ í”„ë¼ë¯¸ìŠ¤ê°€ ê·€ê²°ëœë‹¤.
})
```

#### ğŸˆ ë¯¸ë˜ì˜ ë©”ì„œë“œ ì²´ì¸
- í”„ë¼ë¯¸ìŠ¤ ê°ì²´ëŠ” `then` ë©”ì„œë“œë¥¼ ì§€ë‹ˆëŠ”ë° í”„ë¼ë¯¸ìŠ¤ì— ë³´ê´€ëœ ë°˜í™˜ê°’ì— ì–´ë–¤ ì—°ì‚°ì„ ìˆ˜í–‰í•˜ê³  ë‹¤ì‹œ í”„ë¼ë¯¸ìŠ¤ í˜•íƒœë¡œ ë˜ëŒë¦¬ëŠ” ë©”ì„œë“œì´ë‹¤.
- APIë¥¼ í”„ë¼ë¯¸ìŠ¤í™”í•˜ë©´ ê¸°ì¡´ ì½œë°±ë³´ë‹¤ í›¨ì”¬ ì½”ë“œë¥¼ ë‹¤ë£¨ê¸° ì‰¬ì›Œì§„ë‹¤.

```js
getJSON('/students')
  .then(hide('spinner')) // ê°’ì„ ë°˜í™˜í•˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ë¼ì„œ í”„ë¼ë¯¸ìŠ¤ë¡œ ê°ì‹¼ ê°’ì€ í›„ì† thenìœ¼ë¡œ ë„˜ê¸´ë‹¤.
  .then(R.filter(s => s.address.country == 'US'))
  .then(R.sortBy(R.prop('ssn')))
    .then(R.map(student => {
      return getJSON('/grades?ssn='+ student.ssn)
        .then(R.compose(Math.ceil,
          fork(R.divide, R.sum, R.length))) // í•¨ìˆ˜ ì¡°í•©ê¸°ì™€ ëŒë‹¤ JS í•¨ìˆ˜ë¡œ í‰ê· ì„ ê³„ì‚°
          .then(grade =>
            IO.of(R.merge(student,
            { 'grade': grade })) // IO ëª¨ë‚˜ë“œë¡œ í•™ìƒê³¼ ì ìˆ˜ ë°ì´í„°ë¥¼ DOMì— í‘œì‹œí•œë‹¤.
            .map(R.props(['ssn', 'firstname', 'lastname', 'grade']))
            .map(csv)
            .map(append('#student-info')).run())
    }))
    .catch(function(error) {
      console.log('error: '+ error.message);
    });
```
- ë¹„ë™ê¸° í˜¸ì¶œì„ ì²˜ë¦¬í•˜ëŠ” ì„¸ë¶€ ë¡œì§ì„ í”„ë¼ë¯¸ìŠ¤ê°€ ëŒ€ì‹  ì²˜ë¦¬í•˜ë¯€ë¡œ ë§ˆì¹˜ ê° í•¨ìˆ˜ë¥¼ ìˆœì„œëŒ€ë¡œ í•˜ë‚˜ì”© ì‹¤í–‰í•˜ë“¯ í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•  ìˆ˜ ìˆë‹¤.
- ì´ëŸ° ìˆ˜ì¤€ì˜ ìœ ì—°ì„±ì„ **ìœ„ì¹˜ íˆ¬ëª…ì„±**ì´ë¼ê³  í•œë‹¤.
- `Promise.all`ì„ ì´ìš©í•˜ë©´ í•œ ë²ˆì— ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ë‚´ë ¤ë°›ëŠ” ë¸Œë¼ìš°ì €ì˜ ëŠ¥ë ¥ì„ ê·¹ëŒ€í™”í•  ìˆ˜ ìˆë‹¤.
- ì´í„°ëŸ¬ë¸” ì¸ìˆ˜ì— í¬í•¨ëœ ëª¨ë“  í”„ë¼ë¯¸ìŠ¤ê°€ ê·€ê²°ë˜ëŠ” ì¦‰ì‹œ ê²°ê³¼ í”„ë¼ë¯¸ìŠ¤ë„ ê·€ê²°ëœë‹¤.

#### ğŸˆ ë™ê¸°/ë¹„ë™ê¸° ë¡œì§ì„ í•©ì„±
- ì•„ë˜ ì½”ë“œì—ì„œ ì¤‘ìš”í•œ ê±´ `student` ê°ì²´ê°€ ì¡´ì¬í•˜ë©´ ì´ ê°ì²´ë¡œ í”„ë¼ë¯¸ìŠ¤ê°€ ê·€ê²°ë˜ë©° ê·¸ ì™¸ì—ëŠ” ë²„ë ¤ì§„ë‹¤ëŠ” ì‚¬ì‹¤ì´ë‹¤.

```js
// ë¸Œë¼ìš°ì €ì˜ IndexedDBì‚¬ìš©
const find = function(db, ssn) {
  let trans = db.transaction(['students'], 'readonly');
  const store = trans.objectStore('students');
  return new Promise(function(resolve, reject) {
    let request = store.run(ssn);
    request.onerror = function() {
      if(reject) {
        reject(new Error('error')); // ì‹¤íŒ¨
      }
    };
    request.onsuccess = function() {
      resolve(request.result); // ì„±ê³µ
    }
  })
}
```

- í”„ë¼ë¯¸ìŠ¤ëŠ” ì½”ë“œë¥¼ ê±°ì˜ ê³ ì¹˜ì§€ ì•Šì•„ë„ ë¯¸ë˜ì˜ í•¨ìˆ˜ í•©ì„±ê³¼ ë™ë“±í•˜ê²Œ **í•¨ìˆ˜ë¥¼ í”„ë¼ë¯¸ìŠ¤ì™€ í•©ì„±í•  ìˆ˜ ìˆë„ë¡ ë¹„ë™ê¸° ì½”ë“œì˜ ì‹¤í–‰ì„ ì¶”ìƒí•œë‹¤.**
- ë„ìš°ë¯¸ í•¨ìˆ˜ë¥¼ ì‘ì„±í•œë‹¤.

```js
const fetchStudentDBAsync = R.curry(function(db, ssn) {
  return find(db, ssn);
});

// ì´ í•¨ìˆ˜ë¥¼ í•©ì„±ì— í¬í•¨í•˜ê¸° ìœ„í•´ ì €ì¥ì†Œ ê°ì²´ë¥¼ ì»¤ë¦¬í•œë‹¤.
const findStudentAsync = fetchStudentDBAsync(db);

// ë°ë„ˆë¸”í˜•ì—ë„ ì—°ì‚°ì„ ì²´ì´ë‹í•  ìˆ˜ ìˆê²Œ ë§Œë“ ë‹¤.
const then = R.curry(function (f, thenable) {
  return thenable.then(f);
});

const catchP = R.curry(function (f, promise) {
  return promise.catch(f);
});

// ì½˜ì†”ì— ì—ëŸ¬ ìˆ˜ì¤€ì˜ ë¡œê±°ë¥¼ ë§Œë“ ë‹¤.
const errorLog = _.partial(logger, 'console', 'basic', 'ShowStudentAsync', 'ERROR');
```

- `R.compose`ë¡œ ë¬¶ëŠ”ë‹¤.

```js
const ShowStudentAsync = R.compose(
  catchP(errorLog), // ì—ëŸ¬ëŠ” ëª¨ë‘ ì—¬ê¸°
  then(append('#student-info')), // thenì€ ëª¨ë‚˜ë“œ mapê³¼ ê°™ë‹¤
  then(csv),
  then(R.props(['ssn', 'firstname', 'lastname'])),
  chain(findStudentAsync), // ë™ê¸°/ë¹„ë™ê¸° ì½”ë“œê°€ ì„œë¡œ ë§ë¬¼ë ¤ êµ´ì ˆë˜ëŠ” ì§€ì 
  map(checkLengthSsn),
  lift(cleanInput)
);
```
- í•¨ìˆ˜ê°€ ë‚´ë¶€ì ìœ¼ë¡œ ì–´ë–¤ ë¹„ë™ê¸° ë¡œì§ì„ êµ¬ì‚¬í–ˆëŠ”ì§€, ì–´ë–¤ ì½œë°±ì„ ì¼ëŠ”ì§€ ë“±ì€ ì² ì €íˆ ë² ì¼ì— ê°ì‹¼ ì±„ ì„ ì–¸ì ì¸ í¬ì¦ˆë¥¼ ì·¨í•œë‹¤.
- ë”°ë¼ì„œ ë™ì‹œì— ì‹¤í–‰ë˜ì§€ ì•Šì§€ë§Œ ë‚˜ì¤‘ì— í•¨ìˆ˜ ì¡°í•©ê¸°ë¡œì„œì˜ ë³¸ìƒ‰ì„ ë“œëŸ¬ë‚¼ í•¨ìˆ˜ë¥¼ ì„œë¡œ ë¶™ì—¬ë†“ì€ **ë¬´ì¸ìˆ˜ í”„ë¡œê·¸ë¨ë“¤ì„ í•©ì„±í•˜ì—¬ ì¡°ì •í•  ìˆ˜ ìˆë‹¤.**


### ğŸ“š ëŠê¸‹í•œ ë°ì´í„° ìƒì„±
- **ì œë„ˆë ˆì´í„°** í•¨ìˆ˜ëŠ” `function*`ë¼ê³  í‘œê¸°í•˜ëŠ”, ì–¸ì–´ ìˆ˜ì¤€ì—ì„œ ì§€ì›ë˜ëŠ” ì¥ì¹˜ì´ë‹¤.
- ì´ í•¨ìˆ˜ëŠ” `yield`ë¥¼ ë§Œë‚˜ë©´ í•¨ìˆ˜ ë°–ìœ¼ë¡œ ì ì‹œ ë‚˜ê°”ë‹¤ê°€ ìì‹ ì˜ ë³´ê´€ëœ ì½˜í…ìŠ¤íŠ¸ë¥¼ ì°¾ì•„ ë‹¤ì‹œ ëŒì•„ì˜¨ë‹¤.
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ì˜ ì‹¤í–‰ ì½˜í…ìŠ¤íŠ¸ëŠ” ì ì • ì¤‘ë‹¨í–ˆë‹¤ê°€ ì–¸ì œë¼ë„ ì¬ê°œí•  ìˆ˜ ìˆì–´ì„œ ì œë„ˆë ˆì´í„°ë¡œ ë‹¤ì‹œ ëŒì•„ì˜¬ ìˆ˜ ìˆë‹¤.
- ì œë„ˆë ˆì´í„°ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ì‹œì ì— ë‚´ë¶€ì ìœ¼ë¡œ ì´í„°ë ˆì´í„° ê°ì²´ë¥¼ ìƒì„±í•˜ì—¬ ëŠê¸‹í•¨ì„ ë¶€ì—¬í•˜ê³ , ì´í„°ë ˆì´í„°ëŠ” ë§¤ë²ˆ `yield`ë¥¼ í˜¸ì¶œí•  ë•Œë§ˆë‹¤ í˜¸ì¶œìì—ê²Œ ë°ì´í„°ë¥¼ ëŒë ¤ì¤€ë‹¤.

#### ğŸˆ ì œë„ˆë ˆì´í„°ì™€ ì¬ê·€
- ì œë„ˆë ˆì´í„°ë„ ë‹¤ë¥¸ ì œë„ˆë ˆì´í„°ë¥¼ ì–¼ë§ˆë“ ì§€ í˜¸ì¶œí•  ìˆ˜ ìˆë‹¤.
- ì¤‘ì²©ëœ ê°ì²´ ì§‘í•©ì„ í‰í‰í•œ ëª¨ì–‘ìœ¼ë¡œ ë§Œë“¤ê³  ì‹¶ì„ ë•Œ ì•„ì£¼ ìœ ìš©í•œ íŠ¹ì„±ì´ë‹¤.
- ì œë„ˆë ˆì´í„°ëŠ” `for..of` ë£¨í”„ë¬¸ìœ¼ë¡œ ë°˜ë³µí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ë‹¤ë¥¸ ì œë„ˆë ˆì´í„°ì—ê²Œ ìœ„ì„í•˜ëŠ” ê±´ ë§ˆì¹˜ ë‘ ì»¬ë ‰ì…˜ì„ ë³‘í•©í•œ ì „ì²´ ì»¬ë ‰ì…˜ì„ ë°˜ë³µí•˜ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•˜ë‹¤.

```js
function* AllStudentsGenerator() {
  yield 'Church';

  yield 'Rosser';
  yield* RosserStudentGenerator(); // yield*ë¡œ ë‹¤ë¥¸ ì œë„ˆë ˆì´í„°ì—ê²Œ ìœ„ì„í•œë‹¤.

  yield 'Turing';
  yield* TuringStudentGenerator();

  yield 'Kleene';
  yield* KleeneStudentGenerator();
}

function* RosserStudentGenerator() {
  yield 'Mendelson';
  yield 'Sacks';
}

function* TuringStudentGenerator() {
  yield 'Gandy';
  yield 'Sacks';
}

function* KleeneStudentGenerator() {
  yield 'Nelson';
  yield 'Constable';
}

for (let student of AllStudentsGenerator()) {
  console.log(student);
}

// Church
// Rosser
// Mendelson
// Sacks
// Turing
// Gandy
// Sacks
// Kleene
// NelsonA
```
- ì¬ê·€ë¡œ íƒìƒ‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.

```js
function* TreeTraversal(node) {
  yield node.value;
  if (node.hasChildren()) {
    for (let child of node.children) {
      yield* TreeTraversal(child); 
    }
  }
}

var root = node(new Person('Alonzo', 'Church', '111-11-1231'));

for (let person of TreeTraversal(root)) {
  console.log(person.lastname);
}

// Church
// Rosser
// Mendelson
// Sacks
// Turing
// Gandy
// Sacks
// Kleene
// NelsonA
```

#### ğŸˆ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œ
- ì œë„ˆë ˆì´í„°ëŠ” **ì´í„°ë ˆì´í„°** ì™€ ë°€ì ‘í•œ ê´€ê³„ê°€ ìˆëŠ”ë° ì—¬ëŠ ìë£Œêµ¬ì¡°ì²˜ëŸ¼ ë£¨í”„ë¡œ ë°˜ë³µì‹œí‚¬ ìˆ˜ ìˆëŠ” ê²ƒë„ ì´í„°ë ˆì´í„° ë•ë¶„ì´ë‹¤.
- ì œë„ˆë ˆì´í„° í•¨ìˆ˜ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ì´í„°ë ˆì´í„° í”„ë¡œí† ì½œì— ë”°ë¼ `yield` í‚¤ì›Œë“œ ê°’ì„ ë°˜í™˜í•˜ëŠ” `next()` ë©”ì„œë“œê°€ êµ¬í˜„ëœ Generator ê°ì²´ë¥¼ ë°˜í™˜í•œë‹¤.
- Generator ê°ì²´ì˜ ì†ì„±ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.
  1. `done`: ì œì¼ ë§ˆì§€ë§‰ì— ì´í„°ë ˆì´í„°ê°€ ì „ë‹¬ë˜ë©´ `true`, ê·¸ ì™¸ì—ëŠ” `false`ë¡œ ì„¸íŒ…ëœë‹¤. ì¦‰, `false`ëŠ” ì´í„°ë ˆì´í„°ê°€ ì•„ì§ **ë„ì¤‘ì— ë‹¤ë¥¸ ê°’ì„ ìƒì‚°í•  ìˆ˜ ìˆìŒì„ ì˜ë¯¸í•œë‹¤.**
  2. `value`: ì´í„°ë ˆì´í„°ê°€ ë°˜í™˜í•œ ê°’ì´ë‹¤.
- ë‹¤ìŒì€ range ì œë„ˆë ˆì´í„°ë¥¼ ì›ì‹œ í˜•íƒœë¡œ êµ¬í˜„í•œ ì½”ë“œì´ë‹¤.

```js
function range(start, end) {
  return {
    [Symbol.iterator]() {
      return this; // ë°˜í™˜ëœ ê°ì²´ê°€ ì´í„°ëŸ¬ë¸”ì„ì„ ë‚˜íƒ€ë‚¸ë‹¤.
    },
    next() {
      if(start < end) {
        // ë” ìƒì„±í•  ë°ì´í„°ê°€ ìˆìœ¼ë©´ doneì— falseë¥¼ ì„¸íŒ…
        return { value: start++, done: false };
      }
      // ì—†ìœ¼ë©° doneì— trueë¥¼ ì„¸íŒ…
      return { done: true, value: end };
    }
  };
}
```
- ì´ë ‡ê²Œ ì œë„ˆë ˆì´í„°ë¥¼ êµ¬í˜„í•˜ë©´ íŠ¹ì •í•œ íŒ¨í„´ì´ë‚˜ ëª…ì„¸ë¥¼ ë”°ë¥´ëŠ” ì–´ë–¤ ì¢…ë¥˜ì˜ ë°ì´í„°ë¼ë„ ë§Œë“¤ì–´ë‚¼ ìˆ˜ ìˆë‹¤.
- ë‹¤ìŒì€ ì œê³±ìˆ˜ ì œë„ˆë ˆì´í„°ë¥¼ ë§Œë“  ê²ƒì´ë‹¤.

```js
function squares() {
  let n = 1;
  return {
    [Symbol.iterator]() {
      return this;
    },
    next() {
      return { value: n * n++ };
    }
  };
}
```