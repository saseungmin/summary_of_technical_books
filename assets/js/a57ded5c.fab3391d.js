"use strict";(self.webpackChunksummary_of_technical_books=self.webpackChunksummary_of_technical_books||[]).push([[2951],{2862:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"typescript/do-it-typescript/chapter-12","title":"\ud83d\udc24 Chapter 12: \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \uc2e4\uc2b5","description":"\ud83e\udd84 \ube45\ub370\uc774\ud130 \ubc30\uce58 \ud504\ub85c\uadf8\ub7a8 \ub9cc\ub4e4\uae30","source":"@site/docs/typescript/do-it-typescript/chapter-12.md","sourceDirName":"typescript/do-it-typescript","slug":"/typescript/do-it-typescript/chapter-12","permalink":"/summary_of_technical_books/docs/typescript/do-it-typescript/chapter-12","draft":false,"unlisted":false,"editUrl":"https://github.com/saseungmin/summary_of_technical_books/tree/main/docs/typescript/do-it-typescript/chapter-12.md","tags":[],"version":"current","sidebarPosition":13,"frontMatter":{"sidebar_position":13,"sidebar_label":"12. \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \uc2e4\uc2b5"},"sidebar":"sidebar","previous":{"title":"11. \ubaa8\ub098\ub4dc","permalink":"/summary_of_technical_books/docs/typescript/do-it-typescript/chapter-11"},"next":{"title":"\ud83d\ude80 \ubaa9\ucc28","permalink":"/summary_of_technical_books/docs/typescript/effective-typescript/table-of-contents"}}');var i=s(4848),t=s(8453);const l={sidebar_position:13,sidebar_label:"12. \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \uc2e4\uc2b5"},a="\ud83d\udc24 Chapter 12: \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \uc2e4\uc2b5",o={},c=[{value:"\ud83e\udd84 \ube45\ub370\uc774\ud130 \ubc30\uce58 \ud504\ub85c\uadf8\ub7a8 \ub9cc\ub4e4\uae30",id:"-\ube45\ub370\uc774\ud130-\ubc30\uce58-\ud504\ub85c\uadf8\ub7a8-\ub9cc\ub4e4\uae30",level:2},{value:"\ud83d\udcda \ub178\ub4dc\uc81c\uc774\uc5d0\uc2a4\uc5d0\uc11c \ud504\ub85c\uadf8\ub7a8 \uba85\ub839 \uc904 \uc778\uc218 \uc77d\uae30",id:"-\ub178\ub4dc\uc81c\uc774\uc5d0\uc2a4\uc5d0\uc11c-\ud504\ub85c\uadf8\ub7a8-\uba85\ub839-\uc904-\uc778\uc218-\uc77d\uae30",level:3},{value:"\ud83d\udcda \ud30c\uc77c \ucc98\ub9ac \ube44\ub3d9\uae30 \ud568\uc218\ub97c \ud504\ub85c\ubbf8\uc2a4\ub85c \uad6c\ud604\ud558\uac00",id:"-\ud30c\uc77c-\ucc98\ub9ac-\ube44\ub3d9\uae30-\ud568\uc218\ub97c-\ud504\ub85c\ubbf8\uc2a4\ub85c-\uad6c\ud604\ud558\uac00",level:3},{value:"\ud83c\udf88 fs.access API\ub85c \ub514\ub809\ud130\ub9ac\ub098 \ud30c\uc77c \ud655\uc778\ud558\uae30",id:"-fsaccess-api\ub85c-\ub514\ub809\ud130\ub9ac\ub098-\ud30c\uc77c-\ud655\uc778\ud558\uae30",level:4},{value:"\ud83c\udf88 mkdirp \ud328\ud0a4\uc9c0\ub85c \ub514\ub809\ud130\ub9ac \uc0dd\uc131 \ud568\uc218 \ub9cc\ub4e4\uae30",id:"-mkdirp-\ud328\ud0a4\uc9c0\ub85c-\ub514\ub809\ud130\ub9ac-\uc0dd\uc131-\ud568\uc218-\ub9cc\ub4e4\uae30",level:4},{value:"\ud83c\udf88 rimraf \ud328\ud0a4\uc9c0\ub85c \ub514\ub809\ud130\ub9ac \uc0ad\uc81c \ud568\uc218 \ub9cc\ub4e4\uae30",id:"-rimraf-\ud328\ud0a4\uc9c0\ub85c-\ub514\ub809\ud130\ub9ac-\uc0ad\uc81c-\ud568\uc218-\ub9cc\ub4e4\uae30",level:4},{value:"\ud83c\udf88 fs.writeFile API\ub85c \ud30c\uc77c \uc0dd\uc131\ud558\uae30",id:"-fswritefile-api\ub85c-\ud30c\uc77c-\uc0dd\uc131\ud558\uae30",level:4},{value:"\ud83c\udf88 fs.readFile API\ub85c \ud30c\uc77c \ub0b4\uc6a9 \uc77d\uae30",id:"-fsreadfile-api\ub85c-\ud30c\uc77c-\ub0b4\uc6a9-\uc77d\uae30",level:4},{value:"\ud83c\udf88 fs.appendFile API\ub85c \ud30c\uc77c\uc5d0 \ub0b4\uc6a9 \ucd94\uac00\ud558\uae30",id:"-fsappendfile-api\ub85c-\ud30c\uc77c\uc5d0-\ub0b4\uc6a9-\ucd94\uac00\ud558\uae30",level:4},{value:"\ud83c\udf88 fs.unlink API\ub85c \ud30c\uc77c \uc0ad\uc81c\ud558\uae30",id:"-fsunlink-api\ub85c-\ud30c\uc77c-\uc0ad\uc81c\ud558\uae30",level:4},{value:"\ud83c\udf88 src/fileApi/index.ts \ud30c\uc77c \ub9cc\ub4e4\uae30",id:"-srcfileapiindexts-\ud30c\uc77c-\ub9cc\ub4e4\uae30",level:4},{value:"\ud83d\udcda \uadf8\ub7f4\ub4ef\ud55c \uac00\uc9dc \ub370\uc774\ud130 \ub9cc\ub4e4\uae30",id:"-\uadf8\ub7f4\ub4ef\ud55c-\uac00\uc9dc-\ub370\uc774\ud130-\ub9cc\ub4e4\uae30",level:3},{value:"\ud83d\udcda Object.keys\uc640 Object.values \ud568\uc218 \uc0ac\uc6a9\ud558\uae30",id:"-objectkeys\uc640-objectvalues-\ud568\uc218-\uc0ac\uc6a9\ud558\uae30",level:3},{value:"\ud83d\udcda CSV \ud30c\uc77c \ub9cc\ub4e4\uae30",id:"-csv-\ud30c\uc77c-\ub9cc\ub4e4\uae30",level:3},{value:"\ud83d\udcda \ub370\uc774\ud130\ub97c CSV \ud30c\uc77c\uc5d0 \uc4f0\uae30",id:"-\ub370\uc774\ud130\ub97c-csv-\ud30c\uc77c\uc5d0-\uc4f0\uae30",level:3},{value:"\ud83d\udcda zip \ud568\uc218 \ub9cc\ub4e4\uae30",id:"-zip-\ud568\uc218-\ub9cc\ub4e4\uae30",level:3},{value:"\ud83d\udcda CSV \ud30c\uc77c \ub370\uc774\ud130 \uc77d\uae30",id:"-csv-\ud30c\uc77c-\ub370\uc774\ud130-\uc77d\uae30",level:3},{value:"\ud83e\udd84 \ubabd\uace0DB\uc5d0 \ub370\uc774\ud130 \uc800\uc7a5\ud558\uae30",id:"-\ubabd\uace0db\uc5d0-\ub370\uc774\ud130-\uc800\uc7a5\ud558\uae30",level:2},{value:"\ud83d\udcda \ubabd\uace0DB\uc5d0 \uc811\uc18d\ud558\uae30",id:"-\ubabd\uace0db\uc5d0-\uc811\uc18d\ud558\uae30",level:3},{value:"\ud83d\udcda \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0",id:"-\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0",level:3},{value:"\ud83d\udcda \uceec\ub809\uc158\uc744 \uc0dd\uc131",id:"-\uceec\ub809\uc158\uc744-\uc0dd\uc131",level:3},{value:"\ud83d\udcda \ubb38\uc11c\ub97c \uceec\ub809\uc158\uc5d0 \uc800\uc7a5\ud558\uae30",id:"-\ubb38\uc11c\ub97c-\uceec\ub809\uc158\uc5d0-\uc800\uc7a5\ud558\uae30",level:3},{value:"\ud83d\udcda \ubb38\uc11c \ucc3e\uae30, \ubb38\uc11c \uc0ad\uc81c\ud558\uae30, \uac80\uc0c9 \uacb0\uacfc \uc815\ub82c",id:"-\ubb38\uc11c-\ucc3e\uae30-\ubb38\uc11c-\uc0ad\uc81c\ud558\uae30-\uac80\uc0c9-\uacb0\uacfc-\uc815\ub82c",level:3},{value:"\ud83d\udcda CSV \ud30c\uc77c \ubabd\uace0DB\uc5d0 \uc800\uc7a5\ud558\uae30",id:"-csv-\ud30c\uc77c-\ubabd\uace0db\uc5d0-\uc800\uc7a5\ud558\uae30",level:3},{value:"\ud83d\udcda limit\uc640 skip \uba54\uc11c\ub4dc",id:"-limit\uc640-skip-\uba54\uc11c\ub4dc",level:3},{value:"\ud83e\udd84 \uc775\uc2a4\ud504\ub808\uc2a4\ub85c API \uc11c\ubc84 \ub9cc\ub4e4\uae30",id:"-\uc775\uc2a4\ud504\ub808\uc2a4\ub85c-api-\uc11c\ubc84-\ub9cc\ub4e4\uae30",level:2},{value:"\ud83d\udcda \uc775\uc2a4\ud504\ub808\uc2a4 \ud504\ub808\uc784\uc6cc\ud06c",id:"-\uc775\uc2a4\ud504\ub808\uc2a4-\ud504\ub808\uc784\uc6cc\ud06c",level:3},{value:"\ud83d\udcda \ub77c\uc6b0\ud305 \uae30\ub2a5 \uad6c\ud604",id:"-\ub77c\uc6b0\ud305-\uae30\ub2a5-\uad6c\ud604",level:3},{value:"\ud83d\udcda \uc775\uc2a4\ud504\ub808\uc2a4 \ubbf8\ub4e4\uc6e8\uc5b4 \ucd94\uac00",id:"-\uc775\uc2a4\ud504\ub808\uc2a4-\ubbf8\ub4e4\uc6e8\uc5b4-\ucd94\uac00",level:3},{value:"\ud83d\udcda \ubabd\uace0DB \uc5f0\uacb0",id:"-\ubabd\uace0db-\uc5f0\uacb0",level:3},{value:"\ud83e\udd84 \ub9ac\uc561\ud2b8\uc640 \ubd80\ud2b8\uc2a4\ud2b8\ub7a9\uc73c\ub85c \ud504\ub7f0\ud2b8\uc5d4\ub4dc \uc6f9 \ub9cc\ub4e4\uae30",id:"-\ub9ac\uc561\ud2b8\uc640-\ubd80\ud2b8\uc2a4\ud2b8\ub7a9\uc73c\ub85c-\ud504\ub7f0\ud2b8\uc5d4\ub4dc-\uc6f9-\ub9cc\ub4e4\uae30",level:2},{value:"\ud83d\udcda App.tsx \ud30c\uc77c \uc218\uc815",id:"-apptsx-\ud30c\uc77c-\uc218\uc815",level:3},{value:"\ud83d\udcda API \uc11c\ubc84\uc5d0\uc11c \uc2e4\uc81c \ub370\uc774\ud130 \uac00\uc838\uc624\uae30",id:"-api-\uc11c\ubc84\uc5d0\uc11c-\uc2e4\uc81c-\ub370\uc774\ud130-\uac00\uc838\uc624\uae30",level:3},{value:"\ud83d\udcda \uc11c\ubc84\uc5d0\uc11c \ub370\uc774\ud130 \uacc4\uc18d \uac00\uc838\uc624\uae30",id:"-\uc11c\ubc84\uc5d0\uc11c-\ub370\uc774\ud130-\uacc4\uc18d-\uac00\uc838\uc624\uae30",level:3},{value:"\ud83d\udcda \ubd80\ud2b8\uc2a4\ud2b8\ub7a9 CSS \ud504\ub808\uc784\uc6cc\ud06c \uc0ac\uc6a9\ud558\uae30",id:"-\ubd80\ud2b8\uc2a4\ud2b8\ub7a9-css-\ud504\ub808\uc784\uc6cc\ud06c-\uc0ac\uc6a9\ud558\uae30",level:3},{value:"\ud83d\udcda \uce74\ub4dc \ucef4\ud3ec\ub10c\ud2b8 \ub9cc\ub4e4\uae30",id:"-\uce74\ub4dc-\ucef4\ud3ec\ub10c\ud2b8-\ub9cc\ub4e4\uae30",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-chapter-12-\ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8-\ud568\uc218\ud615-\ud504\ub85c\uadf8\ub798\ubc0d-\uc2e4\uc2b5",children:"\ud83d\udc24 Chapter 12: \ud0c0\uc785\uc2a4\ud06c\ub9bd\ud2b8 \ud568\uc218\ud615 \ud504\ub85c\uadf8\ub798\ubc0d \uc2e4\uc2b5"})}),"\n",(0,i.jsx)(n.h2,{id:"-\ube45\ub370\uc774\ud130-\ubc30\uce58-\ud504\ub85c\uadf8\ub7a8-\ub9cc\ub4e4\uae30",children:"\ud83e\udd84 \ube45\ub370\uc774\ud130 \ubc30\uce58 \ud504\ub85c\uadf8\ub7a8 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc2e4\uc2b5\uc5d0 \ub300\ud55c \ub0b4\uc6a9\uc774\ubbc0\ub85c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 \ucc45\uc744 \ucc38\uace0(P.340 ~ P.365)"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-\ub178\ub4dc\uc81c\uc774\uc5d0\uc2a4\uc5d0\uc11c-\ud504\ub85c\uadf8\ub7a8-\uba85\ub839-\uc904-\uc778\uc218-\uc77d\uae30",children:"\ud83d\udcda \ub178\ub4dc\uc81c\uc774\uc5d0\uc2a4\uc5d0\uc11c \ud504\ub85c\uadf8\ub7a8 \uba85\ub839 \uc904 \uc778\uc218 \uc77d\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type FileNameAndNumber = [string, number];\n\nexport const getFileNameAndNumber = (\n  defaultFilename: string,\n  defaultNumberOfFakeData: number,\n): FileNameAndNumber => {\n  const [bin, node, filename, numberOfFakeData] = process.argv;\n\n  return [\n    filename || defaultFilename,\n    numberOfFakeData ? parseInt(numberOfFakeData, 10) : defaultNumberOfFakeData,\n  ];\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ud30c\uc77c-\ucc98\ub9ac-\ube44\ub3d9\uae30-\ud568\uc218\ub97c-\ud504\ub85c\ubbf8\uc2a4\ub85c-\uad6c\ud604\ud558\uac00",children:"\ud83d\udcda \ud30c\uc77c \ucc98\ub9ac \ube44\ub3d9\uae30 \ud568\uc218\ub97c \ud504\ub85c\ubbf8\uc2a4\ub85c \uad6c\ud604\ud558\uac00"}),"\n",(0,i.jsx)(n.h4,{id:"-fsaccess-api\ub85c-\ub514\ub809\ud130\ub9ac\ub098-\ud30c\uc77c-\ud655\uc778\ud558\uae30",children:"\ud83c\udf88 fs.access API\ub85c \ub514\ub809\ud130\ub9ac\ub098 \ud30c\uc77c \ud655\uc778\ud558\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\ucf54\ub4dc\ub97c \uc791\uc131\ud558\ub2e4 \ubcf4\uba74 \ud30c\uc77c\uc774\ub098 \ub514\ub809\ud130\ub9ac\uac00 \ud604\uc7ac \uc788\ub294\uc9c0 \uc5c6\ub294\uc9c0\ub97c \ud655\uc778\ud574\uc57c \ud560 \ub54c\uac00 \uc0dd\uae34\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nexport const fileExist = (\n  filepath: string,\n): Promise<boolean> => new Promise((resolve) => fs.access(filepath, (error) => resolve(!error)));\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"fileExists-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { fileExist } from '../fileApi/fileExists';\n\nconst exists = async (filepath) => {\n  const result = await fileExist(filepath);\n  console.log(`${filepath} ${result ? 'exists' : 'not exists'}`);\n};\n\nexists('./package.json');\nexists('./package');\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-mkdirp-\ud328\ud0a4\uc9c0\ub85c-\ub514\ub809\ud130\ub9ac-\uc0dd\uc131-\ud568\uc218-\ub9cc\ub4e4\uae30",children:"\ud83c\udf88 mkdirp \ud328\ud0a4\uc9c0\ub85c \ub514\ub809\ud130\ub9ac \uc0dd\uc131 \ud568\uc218 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import mkdirp from 'mkdirp';\n\nimport { fileExist } from './fileExists';\n\nexport const mkdir = (dirname: string): Promise<string> => new Promise(async (resolve, reject) => {\n  const alreadyExists = await fileExist(dirname);\n\n  if (alreadyExists) {\n    resolve(dirname);\n    return;\n  }\n\n  mkdirp(dirname)\n    .then(() => resolve(dirname))\n    .catch((error) => reject(error));\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-rimraf-\ud328\ud0a4\uc9c0\ub85c-\ub514\ub809\ud130\ub9ac-\uc0ad\uc81c-\ud568\uc218-\ub9cc\ub4e4\uae30",children:"\ud83c\udf88 rimraf \ud328\ud0a4\uc9c0\ub85c \ub514\ub809\ud130\ub9ac \uc0ad\uc81c \ud568\uc218 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import rimraf from 'rimraf';\n\nimport { fileExist } from './fileExists';\n\nexport const rmdir = (dirname: string): Promise<string> => new Promise(async (resolve, reject) => {\n  const alreadyExists = await fileExist(dirname);\n\n  if (!alreadyExists) {\n    resolve(dirname);\n    return;\n  }\n\n  rimraf(dirname, (error) => (error ? reject(error) : resolve(dirname)));\n});\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-fswritefile-api\ub85c-\ud30c\uc77c-\uc0dd\uc131\ud558\uae30",children:"\ud83c\udf88 fs.writeFile API\ub85c \ud30c\uc77c \uc0dd\uc131\ud558\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\ub178\ub4dc\uc81c\uc774\uc5d0\uc2a4 \ud658\uacbd\uc5d0\uc11c \ud30c\uc77c\uc758 \ub370\uc774\ud130\ub97c \uc77d\uac70\ub098 \uc4f8 \ub54c\ub294 \ub300\ubd80\ubd84 \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub97c \ub300\uc0c1\uc73c\ub85c \ud55c\ub2e4."}),"\n",(0,i.jsx)(n.li,{children:"\uc774\ub54c \ud14d\uc2a4\ud2b8 \ub370\uc774\ud130\ub294 \uc720\ub2c8\ucf54\ub4dc\ub85c \ucc98\ub9ac\ud574\uc57c \ud55c\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nexport const writeFile = (\n  filename: string, data: any,\n): Promise<any> => new Promise((resolve, reject) => {\n  fs.writeFile(filename, data, 'utf8', (error: Error) => {\n    if (error) {\n      reject(error);\n      return;\n    }\n\n    resolve(data);\n  });\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"writeFile-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { writeFile } from '../fileApi/writeFile';\nimport { mkdir } from '../fileApi/mkdir';\n\nconst writeTest = async (filename: string, data: any) => {\n  const result = await writeFile(filename, data);\n  console.log(`write ${result} to ${filename}`);\n};\n\nmkdir('./data')\n  .then(() => writeTest('./data/hello.txt', 'hello world'))\n  .then(() => writeTest('./data/test.json', JSON.stringify({ name: 'Jack', age: 32 }, null, 2)))\n  .catch((e: Error) => console.log(e.message))\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-fsreadfile-api\ub85c-\ud30c\uc77c-\ub0b4\uc6a9-\uc77d\uae30",children:"\ud83c\udf88 fs.readFile API\ub85c \ud30c\uc77c \ub0b4\uc6a9 \uc77d\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nexport const readFile = (filename: string): Promise<any> => new Promise<any>((resolve, reject) => {\n  fs.readFile(filename, 'utf8', (error: Error, data: any) => {\n    if (error) {\n      reject(error);\n      return;\n    }\n\n    resolve(data);\n  });\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"readFile-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { readFile } from '../fileApi/readFile';\n\nconst readTest = async (filename: string) => {\n  const result = await readFile(filename);\n  console.log(`read ${result} from ${filename} file.`);\n};\n\nreadTest('./data/hello.txt')\n  .then(() => readTest('./data/test.json'))\n  .catch((e: Error) => console.log(e.message));\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-fsappendfile-api\ub85c-\ud30c\uc77c\uc5d0-\ub0b4\uc6a9-\ucd94\uac00\ud558\uae30",children:"\ud83c\udf88 fs.appendFile API\ub85c \ud30c\uc77c\uc5d0 \ub0b4\uc6a9 \ucd94\uac00\ud558\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nexport const appendFile = (\n  filename: string, data: any,\n): Promise<any> => new Promise((resolve, reject) => {\n  fs.appendFile(filename, data, 'utf8', (error: Error) => {\n    if (error) {\n      reject(error);\n      return;\n    }\n\n    resolve(data);\n  });\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"appendFile-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { appendFile } from '../fileApi/appendFile';\nimport { mkdir } from '../fileApi/mkdir';\n\nconst appendTest = async (filename: string, data: any) => {\n  const result = await appendFile(filename, data);\n  console.log(`append ${result} to ${filename}`);\n};\n\nmkdir('./data')\n  .then(() => appendTest('./data/hello.txt', 'Hi there!'))\n  .catch((e: Error) => console.log(e.message));\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-fsunlink-api\ub85c-\ud30c\uc77c-\uc0ad\uc81c\ud558\uae30",children:"\ud83c\udf88 fs.unlink API\ub85c \ud30c\uc77c \uc0ad\uc81c\ud558\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nimport { fileExists } from './fileExists';\n\nexport const deleteFile = (\n  filename: string,\n): Promise<string> => new Promise<any>(async (resolve, reject) => {\n  const alreadyExists = await fileExists(filename);\n\n  if (!alreadyExists) {\n    resolve(filename);\n    return;\n  }\n\n  fs.unlink(filename, (error) => (error ? reject(error) : resolve(filename)));\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"deleteFile-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { deleteFile } from '../fileApi/deleteFile';\nimport { rmdir } from '../fileApi/rmdir';\n\nconst deleteTest = async (filename: string) => {\n  const result = await deleteFile(filename);\n  console.log(`delete ${result} file.`);\n};\n\nPromise.all([deleteTest('./data/hello.txt'), deleteTest('./data/test.json')])\n  .then(() => rmdir('./data'))\n  .then((dirname) => console.log(`delete ${dirname} dir`))\n  .catch((e: Error) => console.log(e.message));\n"})}),"\n",(0,i.jsx)(n.h4,{id:"-srcfileapiindexts-\ud30c\uc77c-\ub9cc\ub4e4\uae30",children:"\ud83c\udf88 src/fileApi/index.ts \ud30c\uc77c \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { fileExists } from './fileExists';\nimport { mkdir } from './mkdir';\nimport { rmdir } from './rmdir';\nimport { writeFile } from './writeFile';\nimport { readFile } from './readFile';\nimport { appendFile } from './appendFile';\nimport { deleteFile } from './deleteFile';\n\nexport {\n  fileExists, mkdir, rmdir, writeFile, readFile, appendFile, deleteFile,\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\uadf8\ub7f4\ub4ef\ud55c-\uac00\uc9dc-\ub370\uc774\ud130-\ub9cc\ub4e4\uae30",children:"\ud83d\udcda \uadf8\ub7f4\ub4ef\ud55c \uac00\uc9dc \ub370\uc774\ud130 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export interface IFake {\n  name: string;\n  email: string;\n  sentence: string;\n  profession: string;\n  birthday: Date;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"makeFakeData.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Chance } from 'chance';\n\nimport { IFake } from './IFake';\n\nconst c = new Chance();\n\nexport const makeFakeData = (): IFake => ({\n  name: c.name(),\n  email: c.email(),\n  profession: c.profession(),\n  birthday: c.birthday(),\n  sentence: c.sentence(),\n});\n\nexport { IFake };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"makeFakeData-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { makeFakeData, IFake } from '../fake/makeFakeData';\n\nconst fakeData: IFake = makeFakeData();\n\nconsole.log(fakeData);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-objectkeys\uc640-objectvalues-\ud568\uc218-\uc0ac\uc6a9\ud558\uae30",children:"\ud83d\udcda Object.keys\uc640 Object.values \ud568\uc218 \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { IFake, makeFakeData } from '../fake/makeFakeData';\n\nconst data: IFake = makeFakeData();\nconst keys = Object.keys(data);\n\nconsole.log('keys: ', keys);\n\nconst values = Object.values(data);\n\nconsole.log('values: ', values);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-csv-\ud30c\uc77c-\ub9cc\ub4e4\uae30",children:"\ud83d\udcda CSV \ud30c\uc77c \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uac00\uc9dc \ub370\uc774\ud130\ub97c \uc5ec\ub7ec \uac1c \uc0dd\uc131"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export function* range(max: number, min: number = 0) {\n  while (min < max) {\n    yield min++;\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"makeFakeData"}),"\ub97c \uc0ac\uc6a9\ud574 ",(0,i.jsx)(n.code,{children:"numberOfItems"}),"\ub9cc\ud07c ",(0,i.jsx)(n.code,{children:"IFake"})," \uac1d\uccb4\ub97c \uc0dd\uc131\ud55c\ub2e4. \uadf8\ub9ac\uace0 \uc18d\uc131\uba85\uacfc \uc18d\uc131\uac12\uc758 \ubc30\uc5f4\uc744 \uac01\uac01 \ucd94\ucd9c\ud574 ",(0,i.jsx)(n.code,{children:"filename"})," \ud30c\uc77c\uc744 \ub9cc\ub4e0\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as path from 'path';\n\nimport { mkdir } from '../fileApi/mkdir';\nimport { range } from '../utils/range';\nimport { IFake } from './IFake';\nimport { makeFakeData } from './makeFakeData';\nimport { writeFile } from '../fileApi/writeFile';\nimport { appendFile } from '../fileApi/appendFile';\n\nexport const writeCsvFormatFakeData = async (\n  filename: string, numberOfItems: number,\n) : Promise<string> => {\n  const dirname = path.dirname(filename);\n  await mkdir(dirname);\n\n  const comma = ',';\n  const newLine = '\\n';\n\n  for (const n of range(numberOfItems)) {\n    const fake: IFake = makeFakeData();\n\n    if (n === 0) {\n      const keys = Object.keys(fake).join(comma);\n      await writeFile(filename, keys);\n    }\n\n    const values = Object.values(fake).join(comma);\n    await appendFile(filename, newLine + values);\n  }\n\n  return `write ${numberOfItems} items to ${filename} file`;\n};\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ub370\uc774\ud130\ub97c-csv-\ud30c\uc77c\uc5d0-\uc4f0\uae30",children:"\ud83d\udcda \ub370\uc774\ud130\ub97c CSV \ud30c\uc77c\uc5d0 \uc4f0\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["CSV \ud30c\uc77c \ud3ec\ub9f7\uc73c\ub85c ",(0,i.jsx)(n.code,{children:"IFake"})," \ud0c0\uc785 \uac1d\uccb4\ub97c \uc800\uc7a5\ud558\ub294 \ud30c\uc77c\uc744 \ub9cc\ub4e4\uace0 \ub2e4\uc74c\uacfc \uac19\uc774 \ucf54\ub4dc\ub97c \uc791\uc131\ud55c\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { getFileNameAndNumber } from './utils/getFileNameAndNumber';\nimport { writeCsvFormatFakeData } from './fake/writeCsvFormatFakeData';\n\nconst [filename, numberOfFakeData] = getFileNameAndNumber('./data/fake', 1);\nconst csvFilename = `${filename}-${numberOfFakeData}.csv`;\n\nwriteCsvFormatFakeData(csvFilename, numberOfFakeData)\n  .then((result) => console.log(result))\n  .catch((e: Error) => console.log(e.message));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-zip-\ud568\uc218-\ub9cc\ub4e4\uae30",children:"\ud83d\udcda zip \ud568\uc218 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CSV \ud3ec\ub9f7 \ud30c\uc77c\uc744 \uc77d\ub294 \ucf54\ub4dc\ub97c \uc791\uc131"}),"\n",(0,i.jsxs)(n.li,{children:["\uac1d\uccb4\uc758 \uc18d\uc131\uba85 \ubc30\uc5f4\uacfc \uc18d\uc131\uac12 \ubc30\uc5f4\uc744 \uacb0\ud569\ud574 \uac1d\uccb4\ub97c \ub9cc\ub4dc\ub294 \ud568\uc218\uac00 \ud544\uc694\ud55c\ub370 \uc774\ub7ec\ud55c \uae30\ub2a5\uc744 \ud558\ub294 \ud568\uc218\ub294 \ubcf4\ud1b5 ",(0,i.jsx)(n.code,{children:"zip"}),"\ub77c\ub294 \uc774\ub984\uc73c\ub85c \uad6c\ud604\ud55c\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export const zip = (keys: string[], values: any[]) => {\n  const makeObject = (key: string, value: any) => ({ [key]: value });\n  const mergeObject = (a: any[]) => a.reduce((sum, val) => ({ ...sum, ...val }), {});\n\n  const tmp = keys\n    .map((key, index) => [key, values[index]])\n    .filter((a) => a[0] && a[1])\n    .map((a) => makeObject(a[0], a[1]));\n\n  return mergeObject(tmp);\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"zip-test.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { zip } from '../utils';\nimport { makeFakeData, IFake } from '../fake';\n\nconst data = makeFakeData();\nconst keys = Object.keys(data);\nconst values = Object.values(data);\n\nconst fake: IFake = zip(keys, values) as IFake;\n\nconsole.log(fake);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-csv-\ud30c\uc77c-\ub370\uc774\ud130-\uc77d\uae30",children:"\ud83d\udcda CSV \ud30c\uc77c \ub370\uc774\ud130 \uc77d\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\ub2e4\uc74c \ucf54\ub4dc\ub294 1,024Byte\uc758 Buffer \ud0c0\uc785 \uac1d\uccb4\ub97c \uc0dd\uc131\ud574 \ud30c\uc77c\uc744 1,024Byte\uc529 \uc77d\uc73c\uba74\uc11c \ud55c \uc904\uc529 \ucc3e\uc740 \ub4a4, \ucc3e\uc740 \uc904(\uc989, ",(0,i.jsx)(n.code,{children:"\\n"}),"\uc73c\ub85c \ub05d\ub09c \uc904)\uc758 \ub370\uc774\ud130\ub97c ",(0,i.jsx)(n.code,{children:"yield"}),"\ubb38\uc73c\ub85c \ubc1c\uc0dd\uc2dc\ud0a4\ub294 \uc608\uc774\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import * as fs from 'fs';\n\nfunction readLine(fd: any, buffer: Buffer, bufferSize: number, position: number): [string, number] {\n  let line = '';\n  let readSize;\n  const crSize = '\\n'.length;\n\n  while (true) {\n    readSize = fs.readSync(fd, buffer, 0, bufferSize, position);\n\n    if (readSize > 0) {\n      const temp = buffer.toString('utf8', 0, readSize);\n      const index = temp.indexOf('\\n');\n\n      if (index > -1) {\n        line += temp.substr(0, index);\n        position += index + crSize;\n        break;\n      } else {\n        line += temp;\n        position += temp.length;\n      }\n    } else {\n      position = -1; // end of file\n      break;\n    }\n  }\n\n  return [line.trim(), position];\n}\n\nexport function* readFileGenerator(filename: string): any {\n  let fd: any;\n\n  try {\n    fd = fs.openSync(filename, 'rs');\n\n    const stats = fs.fstatSync(fd);\n    const bufferSize = Math.min(stats.size, 1024);\n    const buffer = Buffer.alloc(bufferSize + 4);\n    let filepos = 0;\n    let line;\n\n    while (filepos > -1) {\n      [line, filepos] = readLine(fd, buffer, bufferSize, filepos);\n\n      if (filepos > -1) {\n        yield line;\n      }\n    }\n\n    yield buffer.toString(); // \ub9c8\uc9c0\ub9c9 \uc904\n  } catch (error) {\n    console.log('readLine: ', error.message);\n  } finally {\n    fd && fs.closeSync(fd);\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"readFileGenerator-test.ts"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"readFileGenerator"}),"\ub294 \ub2e8\uc21c\ud788 \ud55c \uc904 \ud55c \uc904 \uc77d\ub294\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { readFileGenerator } from '../fileApi';\n\nfor (const value of readFileGenerator('data/fake-10000.csv')) {\n  console.log('<line>', value, '</line>');\n  break;\n}\n\n// <line> name,email,profession,birthday,sentence </line>\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CSV \ud30c\uc77c\uc744 \ud574\uc11d\ud558\uba74\uc11c \uc77d\ub294 \ucf54\ub4dc\uc774\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { readFileGenerator } from '../fileApi';\nimport { zip } from '../utils';\n\nexport function* csvFileReaderGenerator(filename: string, delim: string = ',') {\n  let header = [];\n\n  for (const line of readFileGenerator(filename)) {\n    if (!header.length) {\n      header = line.split(delim);\n    } else {\n      yield zip(header, line.split(delim));\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"readCsv.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { getFileNameAndNumber } from './utils';\nimport { csvFileReaderGenerator } from './csv/csvFileReaderGenerator';\n\nconst [filename] = getFileNameAndNumber('./data/fake-10000.csv', 1);\n\nlet line = 1;\n\nfor (const object of csvFileReaderGenerator(filename)) {\n  console.log(`[${line++}] ${JSON.stringify(object)}`);\n}\n\nconsole.log('\\n read complete.');\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-\ubabd\uace0db\uc5d0-\ub370\uc774\ud130-\uc800\uc7a5\ud558\uae30",children:"\ud83e\udd84 \ubabd\uace0DB\uc5d0 \ub370\uc774\ud130 \uc800\uc7a5\ud558\uae30"}),"\n",(0,i.jsx)(n.h3,{id:"-\ubabd\uace0db\uc5d0-\uc811\uc18d\ud558\uae30",children:"\ud83d\udcda \ubabd\uace0DB\uc5d0 \uc811\uc18d\ud558\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["mongodb \ud328\ud0a4\uc9c0\uac00 \uc81c\uacf5\ud558\ub294 MongoClient \uac1d\uccb4\uc758 ",(0,i.jsx)(n.code,{children:"connect"})," \ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec \ubabd\uace0DB\uc5d0 \uc811\uc18d"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { MongoClient } from 'mongodb';\n\nexport const connect = (mongoUrl: string = 'mongodb://localhost:27017') => MongoClient.connect(mongoUrl, {\n  useNewUrlParser: true,\n  useUnifiedTopology: true,\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc815\uc0c1 \uc5f0\uacb0"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { connect } from '../mongodb/connect';\n\nconst connectTest = async () => {\n  let connection;\n\n  try {\n    connection = await connect();\n    console.log('connection OK.', connection);\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    connection.close();\n  }\n};\n\nconnectTest();\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ub370\uc774\ud130\ubca0\uc774\uc2a4-\uc5f0\uacb0",children:"\ud83d\udcda \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const db = await connection.db('ch12-2');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\uceec\ub809\uc158\uc744-\uc0dd\uc131",children:"\ud83d\udcda \uceec\ub809\uc158\uc744 \uc0dd\uc131"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const personsCollection = db.collection('persons');\nconst addressesCollection = db.collection('addresses');\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ubb38\uc11c\ub97c-\uceec\ub809\uc158\uc5d0-\uc800\uc7a5\ud558\uae30",children:"\ud83d\udcda \ubb38\uc11c\ub97c \uceec\ub809\uc158\uc5d0 \uc800\uc7a5\ud558\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const personsCollection = db.collection('persons');\nconst person = { name: 'Jack', age: 32 };\n\nlet result = await personsCollection.insertOne(person);\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ubb38\uc11c-\ucc3e\uae30-\ubb38\uc11c-\uc0ad\uc81c\ud558\uae30-\uac80\uc0c9-\uacb0\uacfc-\uc815\ub82c",children:"\ud83d\udcda \ubb38\uc11c \ucc3e\uae30, \ubb38\uc11c \uc0ad\uc81c\ud558\uae30, \uac80\uc0c9 \uacb0\uacfc \uc815\ub82c"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\ubb38\uc11c \ucc3e\uae30"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// name \uc18d\uc131\uac12\uc774 Jack\uc778 \ubb38\uc11c \ucc3e\uae30\nconst cursor = personsCollection.find({ name: 'Jack' });\n// \uc804\uccb4\nconst cursor = personsCollection.find({});\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"\uc870\uac74\uc5d0 \ub9de\ub294 \ubb38\uc11c \ud558\ub098\ub9cc \ucc3e\uae30"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const result = await personsCollection.findOne({ _id });\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"\ubb38\uc11c \uc0ad\uc81c\ud558\uae30"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"let result = await personsCollection.deleteOne({ name: 'Tom' });\nresult = await personsCollection.deleteMany({});\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"\uac80\uc0c9 \uacb0\uacfc \uc815\ub82c\ud558\uae30"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const cursor = personsCollection.find({ name: 'Jack' }).sort({ age: -1 });\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uceec\ub809\uc158\uc5d0 \ubb38\uc11c \uac1c\uc218\uac00 \ub9ce\uc544\uc9c0\uba74 \uac80\uc0c9 \uc2dc\uac04\uc774 \ub290\ub824\uc9c0\ub294\ub370, \uc774\ub97c \ubc29\uc9c0\ud558\uae30 \uc704\ud574 \uceec\ub809\uc158\uc5d0 \uc778\ub371\uc2a4\ub97c \ub9cc\ub4e4\uac8c \ub41c\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 1: \uc624\ub984\ucc28\uc21c, -1: \ub0b4\ub9bc\ucc28\uc21c\nawait personsCollection.createIndex({ name: 1, age: -1 });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-csv-\ud30c\uc77c-\ubabd\uace0db\uc5d0-\uc800\uc7a5\ud558\uae30",children:"\ud83d\udcda CSV \ud30c\uc77c \ubabd\uace0DB\uc5d0 \uc800\uc7a5\ud558\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\ub2e4\uc74c \ucf54\ub4dc\ub294 CSV \ud30c\uc77c\uc744 \uc77d\uc5b4\uc11c ",(0,i.jsx)(n.code,{children:"users"}),"\ub77c\ub294 \uceec\ub809\uc158\uc5d0 \ub370\uc774\ud130\ub97c \ub2f4\uace0, ",(0,i.jsx)(n.code,{children:"birthday"}),"\uc640 ",(0,i.jsx)(n.code,{children:"name"})," \uc18d\uc131\uc5d0 \uc778\ub371\uc2a4\ub97c \uc0dd\uc131\ud558\ub294 \ub0b4\uc6a9\uc744 \uad6c\ud604\ud55c \uc608\uc774\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { connect } from './mongodb/connect';\nimport { csvFileReaderGenerator } from './csv/csvFileReaderGenerator';\nimport { getFileNameAndNumber } from './utils';\n\nconst insertCsvToMongo = async (csvFilename, collectionName, index) => {\n  let connection;\n\n  try {\n    connection = await connect();\n    const db = await connection.db('ch12-2');\n    const collection = db.collection(collectionName);\n    await collection.deleteMany({});\n    await collection.createIndex(index);\n\n    let line = 1;\n\n    for (const object of csvFileReaderGenerator(csvFilename)) {\n      await collection.insertOne(object);\n      console.log(`${line++} inserted.`);\n    }\n\n    console.log('\\n insertion complete.');\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    connection.close();\n  }\n};\n\nconst [filename] = getFileNameAndNumber('./data/fake-1000.csv', 1);\ninsertCsvToMongo(filename, 'users', { birthday: -1, name: 1 });\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-limit\uc640-skip-\uba54\uc11c\ub4dc",children:"\ud83d\udcda limit\uc640 skip \uba54\uc11c\ub4dc"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"users"})," \uceec\ub809\uc158\uc758 \ub370\uc774\ud130 \uc911\uc5d0\uc11c \ub2e4\uc12f \uac74\uc744 \uc5bb\uc5b4\uc640 ",(0,i.jsx)(n.code,{children:"name"}),"\uacfc ",(0,i.jsx)(n.code,{children:"birthday"})," \uc18d\uc131\uac12\ub9cc \ud654\uba74\uc5d0 \ucd9c\ub825\ud558\ub294 \ub0b4\uc6a9\uc774\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { connect } from './mongodb/connect';\nimport { IFake } from './fake/IFake';\n\nconst findLimitSkip = async () => {\n  let connection;\n\n  try {\n    connection = await connect();\n    const db = await connection.db('ch12-2');\n    const usersCollection = db.collection('users');\n\n    const cursor = await usersCollection.find({})\n      .sort({ birthday: -1, name: 1 })\n      .skip(100)\n      .limit(5);\n\n    const result = await cursor.toArray();\n\n    console.log(result.map((user: IFake) => ({\n      name: user.name,\n      birthday: user.birthday,\n    })));\n  } catch (error) {\n    console.log(error.message);\n  } finally {\n    connection.close();\n  }\n};\n\nfindLimitSkip();\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-\uc775\uc2a4\ud504\ub808\uc2a4\ub85c-api-\uc11c\ubc84-\ub9cc\ub4e4\uae30",children:"\ud83e\udd84 \uc775\uc2a4\ud504\ub808\uc2a4\ub85c API \uc11c\ubc84 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsx)(n.h3,{id:"-\uc775\uc2a4\ud504\ub808\uc2a4-\ud504\ub808\uc784\uc6cc\ud06c",children:"\ud83d\udcda \uc775\uc2a4\ud504\ub808\uc2a4 \ud504\ub808\uc784\uc6cc\ud06c"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\uc775\uc2a4\ud398\uc774\uc2a4 \ud504\ub808\uc784\uc6cc\ud06c\ub97c \uc0ac\uc6a9\ud558\uba74 \ub2e4\uc74c \ucf54\ub4dc\ucc98\ub7fc \uc6f9 \uc11c\ubc84\ub97c \uc27d\uac8c \ub9cc\ub4e4 \uc218 \uc788\ub2e4."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import express from 'express';\n\nconst app = express();\nconst port = 4000;\n\napp\n  .get('/', (req, res) => res.json({ message: 'Hello world!' }))\n  .listen(port, () => console.log(`http://localhost:${port} started...`));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ub77c\uc6b0\ud305-\uae30\ub2a5-\uad6c\ud604",children:"\ud83d\udcda \ub77c\uc6b0\ud305 \uae30\ub2a5 \uad6c\ud604"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import express from 'express';\n\nconst app = express();\nconst port = 4000;\n\napp\n  .get('/', (req, res) => res.json({ message: 'Hello world!' }))\n  .get('/users/:skip/:limit', (req, res) => {\n    const { skip, limit } = req.params;\n\n    res.json({ skip, limit });\n  })\n  .listen(port, () => console.log(`http://localhost:${port} started...`));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\uc775\uc2a4\ud504\ub808\uc2a4-\ubbf8\ub4e4\uc6e8\uc5b4-\ucd94\uac00",children:"\ud83d\udcda \uc775\uc2a4\ud504\ub808\uc2a4 \ubbf8\ub4e4\uc6e8\uc5b4 \ucd94\uac00"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["REST \ubc29\uc2dd\uc758 API \uc11c\ubc84\ub4e4\uc740 \uc6f9 \ud398\uc774\uc9c0\uc758 \ubcf8\ubb38 \ub0b4\uc6a9\uc744 \ubd84\uc11d\ud558\ub824\uace0 \ud560 \ub54c ",(0,i.jsx)(n.code,{children:"bodyParser"}),"\uc640 ",(0,i.jsx)(n.code,{children:"cors"}),"\ub77c\ub294 \ud328\ud0a4\uc9c0\ub97c ",(0,i.jsx)(n.code,{children:"use"})," \uba54\uc11c\ub4dc\ub97c \uc0ac\uc6a9\ud574 \ub2e4\uc74c\ucc98\ub7fc \uc791\uc131\ud574\uc57c \ud55c\ub2e4."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import bodyParser from 'body-parser';\nimport cors from 'cors';\n\napp\n  .use(bodyParser.urlencoded({ extended: true }))\n  .use(cors())\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ubabd\uace0db-\uc5f0\uacb0",children:"\ud83d\udcda \ubabd\uace0DB \uc5f0\uacb0"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"\ubabd\uace0DB \uc11c\ubc84\uc5d0 \uc811\uc18d\ud558\ub294 \ucf54\ub4dc"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { runServer } from './runServer';\nimport { connect } from './mongodb/connect';\n\nconnect()\n  .then(async (connection) => {\n    const db = await connection.db('ch12-2');\n    return db;\n  })\n  .then(runServer)\n  .catch((e: Error) => console.log(e.message));\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"runServer.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import cors from 'cors';\nimport express from 'express';\nimport bodyParser from 'body-parser';\n\nexport const runServer = (mongodb) => {\n  const app = express();\n  const port = 4000;\n\n  app\n    .use(bodyParser.urlencoded({ extended: true }))\n    .use(cors())\n    .get('/', (req, res) => res.json({ message: 'Hello world!' }))\n    .get('/users/:skip/:limit', async (req, res) => {\n      const { skip, limit } = req.params;\n\n      const usersCollection = await mongodb.collection('users');\n      const cursor = await usersCollection\n        .find({})\n        .sort({ name: 1 })\n        .skip(parseInt(skip, 10))\n        .limit(parseInt(limit, 10));\n\n      const result = await cursor.toArray();\n\n      res.json(result);\n    })\n    .listen(port, () => console.log(`http://localhost:${port} started...`));\n};\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-\ub9ac\uc561\ud2b8\uc640-\ubd80\ud2b8\uc2a4\ud2b8\ub7a9\uc73c\ub85c-\ud504\ub7f0\ud2b8\uc5d4\ub4dc-\uc6f9-\ub9cc\ub4e4\uae30",children:"\ud83e\udd84 \ub9ac\uc561\ud2b8\uc640 \ubd80\ud2b8\uc2a4\ud2b8\ub7a9\uc73c\ub85c \ud504\ub7f0\ud2b8\uc5d4\ub4dc \uc6f9 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"./frontend"})," \ud3f4\ub354 \ucc38\uace0"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-apptsx-\ud30c\uc77c-\uc218\uc815",children:"\ud83d\udcda App.tsx \ud30c\uc77c \uc218\uc815"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\n\nconst App: React.FC = () => {\n  const user = {\n    name: 'Jack',\n    age: 32,\n  }\n\n  return (\n    <div className=\"App\">{\n      JSON.stringify(user)\n    }</div>\n  )\n}\n\nexport default App;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-api-\uc11c\ubc84\uc5d0\uc11c-\uc2e4\uc81c-\ub370\uc774\ud130-\uac00\uc838\uc624\uae30",children:"\ud83d\udcda API \uc11c\ubc84\uc5d0\uc11c \uc2e4\uc81c \ub370\uc774\ud130 \uac00\uc838\uc624\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export interface IUser {\n  _id: string;\n  name: string;\n  email: string;\n  sentence: string;\n  profession: string;\n  birthday: string;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"getDataPromise.ts"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { IUser } from './IUser';\n\ntype GetDataPromiseCallback = (a: IUser[]) => void;\n\nexport const getDataPromise =  (fn: GetDataPromiseCallback) => (\n  skip: number,\n  limit: number,\n) => fetch(`http://localhost:4000/users/${skip}/${limit}`)\n      .then((res) => res.json())\n      .then(fn);\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"App.tsx"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\n\nimport { getDataPromise } from './getDataPromise';\nimport { IUser } from './IUser';\n\nconst App: React.FC = () => {\n  const [users, setUsers] = useState<IUser[]>([]);\n\n  useEffect(() => {\n    getDataPromise((receivedUsers: IUser[]) => {\n      setUsers([...users, ...receivedUsers]);\n    })(0, 1);\n  }, []);\n\n  return (\n    <div className=\"App\">{JSON.stringify(users)}</div>\n  )\n}\n\nexport default App;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\uc11c\ubc84\uc5d0\uc11c-\ub370\uc774\ud130-\uacc4\uc18d-\uac00\uc838\uc624\uae30",children:"\ud83d\udcda \uc11c\ubc84\uc5d0\uc11c \ub370\uc774\ud130 \uacc4\uc18d \uac00\uc838\uc624\uae30"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\n\nimport { getDataPromise } from './getDataPromise';\nimport { IUser } from './IUser';\n\nconst App: React.FC = () => {\n  const [skip, setSkip] = useState(0);\n  const [users, setUsers] = useState<IUser[]>([]);\n\n  const limit = 1;\n  const onClick = () => {\n    getDataPromise((receivedUsers: IUser[]) => {\n      setSkip(skip + limit);\n      setUsers([...users, ...receivedUsers]);\n    })(skip, limit);\n  }\n  useEffect(onClick, []);\n\n  return (\n    <div className=\"App\">\n      <p>\n        <button onClick={onClick}>more data...</button>\n      </p>\n      <p>{JSON.stringify(users)}</p>\n    </div>\n  )\n}\n\nexport default App;\n"})}),"\n",(0,i.jsx)(n.h3,{id:"-\ubd80\ud2b8\uc2a4\ud2b8\ub7a9-css-\ud504\ub808\uc784\uc6cc\ud06c-\uc0ac\uc6a9\ud558\uae30",children:"\ud83d\udcda \ubd80\ud2b8\uc2a4\ud2b8\ub7a9 CSS \ud504\ub808\uc784\uc6cc\ud06c \uc0ac\uc6a9\ud558\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://www.bootstrapcdn.com/",children:"https://www.bootstrapcdn.com/"})}),"\n",(0,i.jsx)(n.li,{children:"CSS\uc640 JavaScript Bundle public/index.html\uc5d0 \ucd94\uac00"}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"-\uce74\ub4dc-\ucef4\ud3ec\ub10c\ud2b8-\ub9cc\ub4e4\uae30",children:"\ud83d\udcda \uce74\ub4dc \ucef4\ud3ec\ub10c\ud2b8 \ub9cc\ub4e4\uae30"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Card.tsx"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:'import React from \'react\';\n\nimport { IUser } from \'./IUser\';\n\nconst random = (max: number) => Math.floor(Math.random() * max);\n\nconst Card: React.FC<{ user: IUser, click: () => void }> = ({user, click}) => {\n  const { name, email, sentence, profession, birthday } = user;\n  const b = new Date(birthday);\n  const src = `https://source.unsplash.com/random/1000x${random(300) + 500}`;\n\n  return (\n    <div className="card">\n      <img src={src} className="card-img-top" />\n      <div className="card-body">\n        <h5 className="card-title">{name}({email})</h5>\n        <h6 className="card-subtitle mb-2 text-muted">\n          {profession} birthday: {b.getFullYear()}\n        </h6>\n        <p className="card-text">{sentence}</p>\n        <a href="#" className="btn btn-primary" onClick={click}>more data...</a>\n      </div>\n    </div>\n  );\n};\n\nexport default Card;\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"App.tsx"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React, { useState, useEffect } from 'react';\n\nimport { getDataPromise } from './getDataPromise';\nimport { IUser } from './IUser';\n\nimport Card from './Card';\n\nconst App: React.FC = () => {\n  const [skip, setSkip] = useState(0);\n  const [users, setUsers] = useState<IUser[]>([]);\n\n  const limit = 1;\n  const onClick = () => {\n    getDataPromise((receivedUsers: IUser[]) => {\n      setSkip(skip + limit);\n      setUsers([...users, ...receivedUsers]);\n    })(skip, limit);\n  }\n  useEffect(onClick, []);\n\n  return (\n    <div className=\"App\">\n      {users.map((user: IUser, key: number) => (\n        <Card click={onClick} user={user} key={key.toString()} />\n      ))}\n    </div>\n  )\n}\n\nexport default App;\n"})})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>a});var r=s(6540);const i={},t=r.createContext(i);function l(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);